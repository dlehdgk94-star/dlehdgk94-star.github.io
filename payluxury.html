<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment â€“ Insta Hotel - Luxury</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì •] */
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; font-family: 'Poppins', 'Noto Sans KR', sans-serif; background-color: #f4f4f4; color: #333; }
        
        /* ê²°ì œ í˜ì´ì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        .payment-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 60px;
        }

        /* í¼ ìŠ¤íƒ€ì¼ */
        input[type="text"], input[type="email"], textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
            font-family: inherit;
            font-size: 14px;
        }
        
        /* ë¼ë””ì˜¤/ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ - ì£¼í™©ìƒ‰ ê°•ì¡° */
        input[type="checkbox"], input[type="radio"] {
            margin-right: 5px;
            vertical-align: middle;
            accent-color: #ff6900;
            width: 18px; 
            height: 18px;
            cursor: pointer;
        }
        
        label { vertical-align: middle; cursor: pointer; }

        /* íƒ€ì´í‹€ & ê·¸ë¦¬ë“œ */
        .page-title {
            text-align: center;
            padding-bottom: 40px;
            font-size: 28px;
            font-weight: 700;
            color: #333;
        }
        .checkout-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        /* ì¹´ë“œ ì„¹ì…˜ */
        .section-card {
            background: white;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            color: #222;
        }

        /* ìƒí’ˆ ì •ë³´ */
        .product-info { display: flex; gap: 20px; }
        .product-img {
            width: 120px;
            height: 120px;
            background-color: #eee;
            object-fit: cover;
            border-radius: 4px;
        }
        .product-details h3 { font-size: 18px; font-weight: 700; margin-bottom: 8px; }
        .product-details p { font-size: 14px; color: #666; margin-bottom: 5px; }
        .price { font-weight: bold; font-size: 18px; margin-top: 15px; color: #ff6900; }

        /* ì…ë ¥ í¼ ë ˆì´ì•„ì›ƒ */
        .input-row { display: flex; gap: 10px; }
        .input-half { width: 50%; }

        /* ì•ˆë‚´ ë°•ìŠ¤ */
        .info-box {
            background-color: #fff0e6;
            border-left: 4px solid #ff6900;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #555;
            line-height: 1.5;
        }
        .notice-text {
            font-size: 13px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        .confirm-check {
            display: flex;
            align-items: center;
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 14px;
            font-weight: 500;
        }

        /* í…Œì´ë¸” */
        .refund-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            margin-bottom: 15px;
        }
        .refund-table th, .refund-table td {
            border: 1px solid #eee;
            padding: 12px;
            text-align: left;
        }
        .refund-table th { background-color: #f9f9f9; width: 60%; font-weight: 600; }

        /* ìš°ì¸¡ ê²°ì œ ìš”ì•½ */
        .price-summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 14px;
            color: #555;
        }
        .total-price-row {
            display: flex;
            justify-content: space-between;
            border-top: 2px solid #eee;
            padding-top: 20px;
            margin-top: 10px;
            font-weight: bold;
            font-size: 18px;
            align-items: center;
        }
        .total-price { color: #ff6900; font-size: 24px; }

        /* ì„ íƒí•œ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .option-detail-list { 
            margin-top: 5px; 
            margin-bottom: 15px;
            font-size: 13px; 
            color: #666; 
            background-color: #fafafa;
            padding: 10px;
            border-radius: 4px;
        }
        .option-detail-list ul { 
            margin-top: 4px; 
            padding-left: 15px; 
            list-style: disc; 
        }
        .option-detail-list li {
            margin-bottom: 2px;
        }

        .payment-method label { 
            display: flex; 
            align-items: center; 
            margin-right: 15px; 
            font-size: 14px; 
        }
        .terms-list { list-style: none; margin-top: 10px; padding: 0; }
        .terms-list li { margin-bottom: 10px; font-size: 13px; color: #666; display: flex; justify-content: space-between; align-items: center; }
        .terms-list li.main-check {
            font-weight: bold; color: #333; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;
        }
        .term-link { color: #888; text-decoration: underline; font-size: 11px; cursor: pointer; }

        .btn-submit {
            width: 100%;
            background-color: #ff6900;
            color: white;
            border: none;
            padding: 18px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
            margin-top: 20px;
        }
        .btn-submit:hover { background-color: #e05e00; }
        .btn-submit:disabled { background-color: #ccc; cursor: not-allowed; }

        /* íŒì—… ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed; 
            z-index: 100; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.5); 
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 10px;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .payment-container { padding-top: 80px; }
            .checkout-grid { grid-template-columns: 1fr; gap: 20px; }
            .product-info { flex-direction: row; }
            .product-img { width: 80px; height: 80px; }
        }

        /* --------------------------------------------------------
           [NEW] ìš°ì¸¡ í•˜ë‹¨ ì±„íŒ… ìœ„ì ¯ ìŠ¤íƒ€ì¼ (í”„ë¦¬ë¯¸ì—„ í˜ì´ì§€ì™€ ë™ì¼í•˜ê²Œ ì ìš©)
        -------------------------------------------------------- */
        .chat-widget-container {
            position: fixed;
            bottom: 25px;
            right: 20px;
            z-index: 9999;
            font-family: 'Poppins', sans-serif;
        }

        .chat-main-btn {
            width: 50px;  
            height: 50px; 
            background-color: #ff6900; 
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .chat-widget-container.active .chat-main-btn {
            transform: rotate(45deg);
            background-color: #e65100; 
        }

        .chat-options {
            display: none; 
            flex-direction: column;
            gap: 10px;
            margin-bottom: 12px;
            align-items: flex-end;
        }

        .chat-widget-container.active .chat-options {
            display: flex;
            animation: fadeInUp 0.3s ease-in-out;
        }

        .chat-option-item {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
            padding: 8px 14px; 
            border-radius: 20px;
            font-weight: bold;
            font-size: 13px;
            box-shadow: 1px 1px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s;
            white-space: nowrap; 
        }

        .chat-option-item:hover { transform: scale(1.05); }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://js.tosspayments.com/v1/payment"></script>
    <script>
        const supabaseUrl = 'https://eyasihczaqsacenklhns.supabase.co'
        const supabaseKey = 'sb_publishable_KgiOOQUrWJzQTDCZnbhGcw_otKoMO27'
        
        // window ê°ì²´ì— ë‹´ì•„ì„œ ì–´ë””ì„œë“  êº¼ë‚´ ì“¸ ìˆ˜ ìˆê²Œ í•¨
        window.supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey)
        
        console.log("Payment Page - Supabase Connection Success!");
    </script>
</head>
<body class="bg-[#f4f4f4] text-slate-900 font-sans">

  <header id="header" class="fixed top-0 left-0 right-0 z-30 bg-[#ff6900] text-white shadow-md">
    <div class="w-full px-4 md:px-10 py-3 flex items-center justify-between h-14 relative">
      
      <button id="mobile-menu-btn" class="md:hidden text-white flex items-center focus:outline-none drop-shadow-md z-20">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-8 h-8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
      </button>

      <a href="index.html" class="absolute left-1/2 transform -translate-x-1/2 md:static md:translate-x-0 md:flex items-center drop-shadow-md z-20">
        <span class="text-2xl font-bold tracking-tight md:hidden">Insta hotel</span>
        <span class="hidden md:block text-2xl font-semibold tracking-tight">Insta Hotel - mainbranch</span>
      </a>

      <nav class="hidden md:flex items-center gap-5 whitespace-nowrap text-sm font-medium drop-shadow-md md:absolute md:left-1/2 md:-translate-x-1/2 z-10">
        <a href="about.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_about">about</a>
        <a href="rooms.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_rooms">rooms</a>
        <a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="hover:text-orange-200 transition-colors">breakfast(ì¡°ì‹)</a>
        <a href="reservation.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_reservation">reservation(ì˜ˆì•½)</a>
        <a href="instaspot.html" class="hover:text-orange-200 transition-colors">tour&food&cafe(ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a>
        <a href="#lounge" class="hover:text-orange-200 transition-colors" data-i18n="nav_lounge">bluerain lounge</a>
        <a href="contact.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_contact">contact</a>
      </nav>

      <div class="flex items-center relative drop-shadow-md z-20">
         <div class="flex items-center gap-2 cursor-pointer relative group">
            <img id="current-flag-icon" src="kr.png" alt="Korea" class="w-8 h-5 object-cover rounded shadow-sm border border-white/30 transition-transform group-hover:scale-110">
            
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-white opacity-90">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
            </svg>

            <select id="header-lang-select" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer appearance-none text-slate-900">
                <option value="ko" class="text-slate-900">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                <option value="en" class="text-slate-900">ğŸ‡ºğŸ‡¸ English</option>
                <option value="ja" class="text-slate-900">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                <option value="zh" class="text-slate-900">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
            </select>
         </div>
      </div>

    </div>
  </header>

  <div id="drawer-overlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden transition-opacity duration-300"></div>
  
  <nav id="mobile-drawer" class="fixed top-0 left-0 w-[75%] max-w-sm h-full z-50 bg-white shadow-xl text-slate-900 md:hidden transform -translate-x-full transition-transform duration-300 ease-in-out">
    <div class="p-6">
      <button id="mobile-menu-close-btn" class="absolute top-4 right-4 text-3xl font-light hover:text-[#ff6900]">&times;</button>
      
      <div class="mt-2 mb-8">
        <span class="text-xl font-bold tracking-tight text-[#ff6900]">Insta hotel</span>
      </div>
      
      <ul class="flex flex-col space-y-4 text-lg font-medium">
        <li><a href="about.html" class="block hover:text-[#ff6900]" data-i18n="nav_about">about</a></li>
        
        <li>
            <div class="flex justify-between items-center cursor-pointer hover:text-[#ff6900]" id="rooms-toggle">
                <span data-i18n="nav_rooms">rooms</span> <span class="text-sm">â–¼</span>
            </div>
            <ul id="rooms-submenu" class="hidden mt-3 ml-4 space-y-3 border-l-2 border-slate-100 pl-4">
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Twin</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Special</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Luxury</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Premium</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Deluxe</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Standard</a></li>
                <li><a href="reservation.html" class="block text-sm text-slate-600 hover:text-[#ff6900] font-semibold">Long Stay</a></li>
            </ul>
        </li>

        <li><a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="block hover:text-[#ff6900]">breakfast(ì¡°ì‹)</a></li>
        <li><a href="reservation.html" class="block hover:text-[#ff6900]" data-i18n="nav_reservation">reservation(ì˜ˆì•½)</a></li>
        <li><a href="instaspot.html" class="block hover:text-[#ff6900]">tour&food&cafe(ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a></li>
        <li><a href="#lounge" class="block hover:text-[#ff6900]" data-i18n="nav_lounge">bluerain lounge</a></li>
        <li><a href="contact.html" class="block hover:text-[#ff6900]" data-i18n="nav_contact">contact</a></li>
      </ul>

      <div class="mt-8 border-t pt-4">
          <p class="text-sm text-slate-400 mb-2">Language</p>
          <select id="drawer-lang-select" class="w-full p-2 border rounded text-slate-700 bg-slate-50 outline-none">
              <option value="ko">Korean</option>
              <option value="en">English</option>
              <option value="ja">Japanese</option>
              <option value="zh">Chinese</option>
          </select>
      </div>
    </div>
  </nav>

    <main class="payment-container">
        <h2 class="page-title" data-i18n="page_title">ê²°ì œí•˜ê¸°</h2>

        <div class="checkout-grid">
            
            <div class="left-column">
                
                <div class="section-card">
                    <div class="section-title" data-i18n="sect_product">ì˜ˆì•½ ìƒí’ˆ ì •ë³´</div>
                    <div class="product-info">
                        <img src="hero7.jpg" alt="ê°ì‹¤ ì´ë¯¸ì§€" class="product-img">
                        <div class="product-details">
                            <h3 data-i18n="room_name">ëŸ­ì…”ë¦¬ (Luxury)</h3>
                            <p><span data-i18n="label_schedule">ì¼ì •</span>: <span id="display-nights">1ë°•</span> (<span id="display-date-range">ë‚ ì§œ ë¯¸ì„ íƒ</span>)</p>
                            <p><span data-i18n="label_guests">ì¸ì›</span>: ì„±ì¸ 2ëª… (ê¸°ë³¸)</p>
                            <div class="price" id="display-room-price-info">0ì›</div>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_booker">ì˜ˆì•½ì ì •ë³´</div>
                    
                    <div class="input-row">
                        <div class="input-half">
                            <input type="text" id="input-name" placeholder="ì´ë¦„ (Name)">
                        </div>
                        <div class="input-half">
                            <input type="text" id="input-phone" placeholder="ì—°ë½ì²˜ (Phone)">
                        </div>
                    </div>

                    <input type="email" id="input-email" placeholder="ì´ë©”ì¼ (E-mail)">
                    
                    <div style="font-size: 12px; color: #ff6900; margin-top: 15px; margin-bottom: 5px; font-weight: 500;" data-i18n="notice_sns">
                        * ìš°ë¦¬ì™€ SNS íŒ”ë¡œìš°ë¥¼ í•˜ë©´ ì˜ˆì•½ì •ë³´ë¥¼ ê°„í¸í•˜ê³  ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>

                    <div class="input-row">
                        <div class="input-half">
                            <input type="text" id="input-instagram" placeholder="Instagram">
                        </div>
                        <div class="input-half">
                            <input type="text" id="input-tiktok" placeholder="Tiktok">
                        </div>
                    </div>
                    
                    <input type="text" id="input-request" placeholder="ìš”ì²­ì‚¬í•­ (Requests)" style="margin-top: 10px;">
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_extra">ì¶”ê°€ì •ë³´ ì…ë ¥</div>
                    <div class="info-box" data-i18n="notice_confirm_email">
                        ì˜ˆì•½ í™•ì •ì€ ì´ë©”ì¼ ì•Œë¦¼ì„ ë°›ìœ¼ì…”ì•¼ ì™„ë£Œë©ë‹ˆë‹¤.
                    </div>
                    <p class="notice-text">
                        <strong data-i18n="label_about_res">ì˜ˆì•½ê³¼ ê´€ë ¨í•˜ì—¬ â€¢</strong><br>
                        <span data-i18n="notice_checkin">
                        * insta hotel email (yhl5258@naver.com)ì„ ë°›ìœ¼ì…”ì•¼ ì˜ˆì•½ í™•ì •ì´ ëœ ê²ƒì…ë‹ˆë‹¤.<br>
                        * ì²´í¬ì¸ ë‹¹ì¼ í˜„ì¥ì—ì„œ ì˜ˆì•½ì ë³¸ì¸ í™•ì¸ì´ ì§„í–‰ë©ë‹ˆë‹¤.
                        </span>
                    </p>
                    
                    <label class="confirm-check">
                        <input type="radio" name="confirm1" id="chk-info"> &nbsp;<span data-i18n="label_checked">í™•ì¸í–ˆìŠµë‹ˆë‹¤.</span>
                    </label>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_refund">ì·¨ì†Œ/í™˜ë¶ˆ ê·œì •ì— ëŒ€í•œ ë™ì˜</div>
                    <table class="refund-table">
                        <tr>
                            <th data-i18n="th_8days">ì´ìš© 8ì¼ ì „ê¹Œì§€</th>
                            <td data-i18n="td_free">ì·¨ì†Œìˆ˜ìˆ˜ë£Œ ì—†ìŒ</td>
                        </tr>
                        <tr>
                            <th data-i18n="th_7days">ì´ìš© ë‹¹ì¼ ~ ì´ìš© 7ì¼ ì „ê¹Œì§€</th>
                            <td data-i18n="td_no_refund">í™˜ë¶ˆë¶ˆê°€ëŠ¥</td>
                        </tr>
                    </table>
                    <label class="confirm-check">
                        <input type="checkbox" id="chk-refund"> &nbsp;<span data-i18n="label_agree_refund">ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì •ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
                    </label>
                </div>

            </div>

            <div class="right-column">
                
                <div class="section-card">
                    <div class="section-title" data-i18n="sect_total">ìµœì¢… ê²°ì œê¸ˆì•¡</div>
                    <div class="price-summary-row">
                        <span data-i18n="label_room_price">ê°ì‹¤ ê°€ê²©</span>
                        <span id="summary-room-price">0ì›</span>
                    </div>
                    <div class="price-summary-row">
                        <span data-i18n="label_option">ì˜µì…˜(ì¡°ì‹ ë“±)</span>
                         <span id="summary-option-price">0ì›</span>
                    </div>

                    <div id="option-detail-list" class="option-detail-list" style="display:none;"></div>

                    <div class="total-price-row">
                        <span data-i18n="label_total_price">ì´ ê²°ì œê¸ˆì•¡</span>
                         <span class="total-price" id="summary-total-price">0ì›</span>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_method">ê²°ì œìˆ˜ë‹¨</div>
                    <div class="payment-method">
                        <label><input type="radio" name="payment" checked> <span data-i18n="label_credit_card">ì‹ ìš©ì¹´ë“œ</span></label>
                    </div>
                </div>

                <div class="section-card" style="border:none; box-shadow:none; padding: 0; background:none;">
                    <ul class="terms-list">
                        <li class="main-check">
                            <label><input type="checkbox" id="chk-all"> <span data-i18n="label_all_agree">ì „ì²´ ë™ì˜</span></label>
                        </li>
                        <li>
                            <label><input type="checkbox" class="chk-sub"> <span data-i18n="label_privacy">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</span></label>
                            <span class="term-link" onclick="openModal()" data-i18n="btn_view_terms">ì•½ê´€ë³´ê¸°</span>
                        </li>
                        <li>
                            <label><input type="checkbox" class="chk-sub"> <span data-i18n="label_condition">êµ¬ë§¤ì¡°ê±´ í™•ì¸ ë° ê²°ì œì§„í–‰ ë™ì˜</span></label>
                        </li>
                    </ul>
                </div>

                <button id="btn-submit" class="btn-submit" onclick="requestPayment()" data-i18n="btn_pay">ê²°ì œí•˜ê¸°</button>

            </div>
        </div>
    </main>

    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <img src="ì•½ê´€ë³´ê¸°.png" alt="ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜" style="width: 100%;">
        </div>
    </div>

    <section id="contact" class="pt-10 pb-12 bg-white border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 text-center text-xs text-slate-600 space-y-3">
            <div class="flex justify-center gap-4 text-lg"> 
                <a href="https://www.instagram.com/instahotelkorea" target="_blank"><img src="icons8-ì¸ìŠ¤-íƒ€-ê·¸ë¨-48.png" alt="Instagram" width="24" height="24"></a>
                <a href="https://map.naver.com/p/entry/place/1630717211" target="_blank"><img src="icons8-ë„¤ì´ë²„-64.png" alt="Naver" width="24" height="24"></a>
                <a href="http://pf.kakao.com/_xiITuG" target="_blank"><img src="icons8-ì¹´ì¹´ì˜¤-í†¡-48.png" alt="KakaoTalk" width="24" height="24"></a>
                <a href="https://www.facebook.com/VIPdesign2020" target="_blank"><img src="icons8-í˜ì´ìŠ¤-ë¶-48.png" alt="Facebook" width="24" height="24"></a>        
            </div>
            <div class="space-y-1">
                <p>insta hotel mainbranch, Korea</p>
                <p id="companyName">(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€</p>
                <p id="ceoName">ëŒ€í‘œì : ì´ì˜í™˜</p>
                <p id="bizNumber">í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸</p>
                <p id="address">ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6</p>
                <p>Business License 176-24-01388 | Tel 031-203-4301</p>
            </div>
        </div>
    </section>

    <div class="chat-widget-container" id="chatWidget">
        <div class="chat-options">
            
            <a href="https://www.instagram.com/instahotelkorea" target="_blank" class="chat-option-item" style="background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);">
                <span>Instagram DM</span>
            </a>
    
            <a href="https://wa.me/821042077372" target="_blank" class="chat-option-item" style="background-color: #25D366;">
                <span>WhatsApp (ENG)</span>
            </a>
    
            <a href="http://pf.kakao.com/_xiITuG" target="_blank" class="chat-option-item" style="background-color: #FEE500; color: #3c1e1e;">
                <span>KakaoTalk (KOR)</span>
            </a>
        </div>
        <div class="chat-main-btn" onclick="toggleChatWidget()">ğŸ’¬</div>
    </div>

    <script>
        // --- [NEW] ì±„íŒ… ìœ„ì ¯ í† ê¸€ ê¸°ëŠ¥ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ ---
        function toggleChatWidget() {
            var widget = document.getElementById('chatWidget');
            widget.classList.toggle('active');
            var btn = widget.querySelector('.chat-main-btn');
            if (widget.classList.contains('active')) {
                btn.innerHTML = 'âœ•'; 
            } else {
                btn.innerHTML = 'ğŸ’¬'; 
            }
        }

        /* --------------------------------------
           1. ëª¨ë°”ì¼ ë©”ë‰´ (Drawer) ì—´ê¸°/ë‹«ê¸°
        -------------------------------------- */
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileDrawer = document.getElementById("mobile-drawer");
        const drawerOverlay = document.getElementById("drawer-overlay");
        const mobileCloseBtn = document.getElementById("mobile-menu-close-btn");

        function openMenu() {
            if(mobileDrawer && drawerOverlay) {
                mobileDrawer.classList.remove("-translate-x-full");
                drawerOverlay.classList.remove("hidden");
                document.body.style.overflow = "hidden"; 
            }
        }
        function closeMenu() {
            if(mobileDrawer && drawerOverlay) {
                mobileDrawer.classList.add("-translate-x-full");
                drawerOverlay.classList.add("hidden");
                document.body.style.overflow = ""; 
            }
        }

        if (mobileMenuBtn) mobileMenuBtn.addEventListener("click", openMenu);
        if (mobileCloseBtn) mobileCloseBtn.addEventListener("click", closeMenu);
        if (drawerOverlay) drawerOverlay.addEventListener("click", closeMenu);

        const roomsToggle = document.getElementById("rooms-toggle");
        const roomsSubmenu = document.getElementById("rooms-submenu");
        if(roomsToggle && roomsSubmenu){
            roomsToggle.addEventListener("click", () => {
                roomsSubmenu.classList.toggle("hidden");
            });
        }

        /* --------------------------------------
           2. ë‹¤êµ­ì–´ ì„¤ì • ë° í†µí™” ë‹¨ìœ„ ì„¤ì •
        -------------------------------------- */
        const translations = {
            ko: {
                flag: "ğŸ‡°ğŸ‡·",
                img: "kr.png", 
                unit_prefix: "",
                unit_suffix: "ì›",
                unit_night: "ë°•",
                alert_agree: "ëª¨ë‘ ë™ì˜ë¥¼ í•´ì•¼ ê²°ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                alert_done: "ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì˜ˆì•½ í™•ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.",
                alert_fail: "ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ",
                alert_fill_info: "ì˜ˆì•½ì ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation (ì˜ˆì•½)", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "ê²°ì œí•˜ê¸°",
                sect_product: "ì˜ˆì•½ ìƒí’ˆ ì •ë³´",
                room_name: "ëŸ­ì…”ë¦¬ (Luxury)",
                label_schedule: "ì¼ì •",
                label_guests: "ì¸ì›",
                
                sect_booker: "ì˜ˆì•½ì ì •ë³´",
                ph_name: "ì´ë¦„ (Name)",
                ph_phone: "ì—°ë½ì²˜ (Phone)",
                ph_email: "ì´ë©”ì¼ (E-mail)",
                ph_request: "ìš”ì²­ì‚¬í•­ (Requests)",
                notice_sns: "* ìš°ë¦¬ì™€ SNS íŒ”ë¡œìš°ë¥¼ í•˜ë©´ ì˜ˆì•½ì •ë³´ë¥¼ ê°„í¸í•˜ê³  ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                ph_instagram: "Instagram",
                ph_tiktok: "Tiktok",
                
                sect_extra: "ì¶”ê°€ì •ë³´ ì…ë ¥",
                notice_confirm_email: "ì˜ˆì•½ í™•ì •ì€ ì´ë©”ì¼ ì•Œë¦¼ì„ ë°›ìœ¼ì…”ì•¼ ì™„ë£Œë©ë‹ˆë‹¤.",
                label_about_res: "ì˜ˆì•½ê³¼ ê´€ë ¨í•˜ì—¬ â€¢",
                notice_checkin: "* insta hotel email (yhl5258@naver.com)ì„ ë°›ìœ¼ì…”ì•¼ ì˜ˆì•½ í™•ì •ì´ ëœ ê²ƒì…ë‹ˆë‹¤.<br>* ì²´í¬ì¸ ë‹¹ì¼ í˜„ì¥ì—ì„œ ì˜ˆì•½ì ë³¸ì¸ í™•ì¸ì´ ì§„í–‰ë©ë‹ˆë‹¤.",
                label_checked: "í™•ì¸í–ˆìŠµë‹ˆë‹¤.",
                
                sect_refund: "ì·¨ì†Œ/í™˜ë¶ˆ ê·œì •ì— ëŒ€í•œ ë™ì˜",
                th_8days: "ì´ìš© 8ì¼ ì „ê¹Œì§€",
                td_free: "ì·¨ì†Œìˆ˜ìˆ˜ë£Œ ì—†ìŒ",
                th_7days: "ì´ìš© ë‹¹ì¼ ~ ì´ìš© 7ì¼ ì „ê¹Œì§€",
                td_no_refund: "í™˜ë¶ˆë¶ˆê°€ëŠ¥",
                label_agree_refund: "ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì •ì— ë™ì˜í•©ë‹ˆë‹¤.",
                
                sect_total: "ìµœì¢… ê²°ì œê¸ˆì•¡",
                label_room_price: "ê°ì‹¤ ê°€ê²©",
                label_option: "ì˜µì…˜(ì¡°ì‹ ë“±)",
                label_total_price: "ì´ ê²°ì œê¸ˆì•¡",
                
                label_option_list: "ì„ íƒí•œ ì˜µì…˜",
                
                sect_method: "ê²°ì œìˆ˜ë‹¨",
                label_credit_card: "ì‹ ìš©ì¹´ë“œ",
                
                label_all_agree: "ì „ì²´ ë™ì˜",
                label_privacy: "ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜",
                btn_view_terms: "ì•½ê´€ë³´ê¸°",
                label_condition: "êµ¬ë§¤ì¡°ê±´ í™•ì¸ ë° ê²°ì œì§„í–‰ ë™ì˜",
                btn_pay: "ê²°ì œí•˜ê¸°",
                
                company: "(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€", ceo: "ëŒ€í‘œì : ì´ì˜í™˜", biz: "í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸", addr: "ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6"
            },
            en: {
                flag: "ğŸ‡ºğŸ‡¸",
                img: "usa.png",
                unit_prefix: "$",
                unit_suffix: "",
                unit_night: " nights",
                alert_agree: "You must agree to all terms to proceed.",
                alert_done: "Payment Completed! Redirecting...",
                alert_fail: "Error processing payment: ",
                alert_fill_info: "Please fill in all guest information.",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "Payment",
                sect_product: "Booking Info",
                room_name: "Luxury",
                label_schedule: "Schedule",
                label_guests: "Guests",
                
                sect_booker: "Guest Info",
                ph_name: "Name",
                ph_phone: "Phone Number",
                ph_email: "E-mail Address",
                ph_request: "Requests",
                notice_sns: "* Follow us on SNS to check your reservation information quickly and easily.",
                ph_instagram: "Instagram",
                ph_tiktok: "Tiktok",
                
                sect_extra: "Additional Info",
                notice_confirm_email: "Booking is confirmed only after receiving the email notification.",
                label_about_res: "About Reservation â€¢",
                notice_checkin: "* You must receive an email from insta hotel (yhl5258@naver.com) to confirm.<br>* ID verification required at check-in.",
                label_checked: "I have checked.",
                
                sect_refund: "Cancellation & Refund Policy",
                th_8days: "Up to 8 days prior",
                td_free: "Free Cancellation",
                th_7days: "7 days prior ~ Day of stay",
                td_no_refund: "Non-refundable",
                label_agree_refund: "I agree to the policy.",
                
                sect_total: "Payment Summary",
                label_room_price: "Room Price",
                label_option: "Options",
                label_total_price: "Total Amount",
                
                label_option_list: "Selected Options",
                
                sect_method: "Payment Method",
                label_credit_card: "Credit Card",
                
                label_all_agree: "Agree to All",
                label_privacy: "Consent to Collection & Use of Personal Info",
                btn_view_terms: "View Terms",
                label_condition: "Confirm Order & Agree to Payment",
                btn_pay: "Pay Now",
                
                company: "Insta Hotel Co., Ltd.", ceo: "CEO: Lee Young Hwan", biz: "Reg: 2023-Suwon Yeongtong-1696", addr: "94-6, Yeongtong-ro, Yeongtong-gu, Suwon-si"
            },
            ja: {
                flag: "ğŸ‡¯ğŸ‡µ",
                img: "jp.png",
                unit_prefix: "",
                unit_suffix: "å††",
                unit_night: " æ³Š",
                alert_agree: "ã™ã¹ã¦ã®è¦ç´„ã«åŒæ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
                alert_done: "æ±ºæ¸ˆãŒå®Œäº†ã—ã¾ã—ãŸï¼äºˆç´„ç¢ºèªãƒšãƒ¼ã‚¸ã¸ç§»å‹•ã—ã¾ã™ã€‚",
                alert_fail: "æ±ºæ¸ˆå‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ",
                alert_fill_info: "äºˆç´„è€…æƒ…å ±ã‚’ã™ã¹ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "æ±ºæ¸ˆ",
                sect_product: "äºˆç´„æƒ…å ±",
                room_name: "ãƒ©ã‚°ã‚¸ãƒ¥ã‚¢ãƒªãƒ¼ (Luxury)",
                label_schedule: "æ—¥ç¨‹",
                label_guests: "äººæ•°",
                
                sect_booker: "äºˆç´„è€…æƒ…å ±",
                ph_name: "åå‰",
                ph_phone: "é€£çµ¡å…ˆ",
                ph_email: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
                ph_request: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
                notice_sns: "* SNSã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ã¨ã€äºˆç´„æƒ…å ±ã‚’ç°¡å˜ã‹ã¤è¿…é€Ÿã«ç¢ºèªã§ãã¾ã™ã€‚",
                ph_instagram: "Instagram (ã‚¤ãƒ³ã‚¹ã‚¿ã‚°ãƒ©ãƒ )",
                ph_tiktok: "Tiktok (ãƒ†ã‚£ãƒƒã‚¯ãƒˆãƒƒã‚¯)",
                
                sect_extra: "è¿½åŠ æƒ…å ±",
                notice_confirm_email: "äºˆç´„ç¢ºå®šã¯ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’å—ä¿¡ã—ãŸæ™‚ç‚¹ã§å®Œäº†ã—ã¾ã™ã€‚",
                label_about_res: "äºˆç´„ã«ã¤ã„ã¦ â€¢",
                notice_checkin: "* Insta Hotelã®ãƒ¡ãƒ¼ãƒ«(yhl5258@naver.com)ã‚’å—ä¿¡ã™ã‚‹ã¨äºˆç´„ç¢ºå®šã¨ãªã‚Šã¾ã™ã€‚<br>* ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ™‚ã«æœ¬äººç¢ºèªãŒè¡Œã‚ã‚Œã¾ã™ã€‚",
                label_checked: "ç¢ºèªã—ã¾ã—ãŸã€‚",
                
                sect_refund: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»æ‰•ã„æˆ»ã—è¦å®š",
                th_8days: "åˆ©ç”¨8æ—¥å‰ã¾ã§",
                td_free: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãªã—",
                th_7days: "åˆ©ç”¨7æ—¥å‰ã€œå½“æ—¥",
                td_no_refund: "æ‰•ã„æˆ»ã—ä¸å¯",
                label_agree_refund: "è¦å®šã«åŒæ„ã—ã¾ã™ã€‚",
                
                sect_total: "æ±ºæ¸ˆé‡‘é¡",
                label_room_price: "å®¢å®¤ä¾¡æ ¼",
                label_option: "ã‚ªãƒ—ã‚·ãƒ§ãƒ³",
                label_total_price: "ç·æ±ºæ¸ˆé‡‘é¡",
                
                label_option_list: "é¸æŠã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³",
                
                sect_method: "æ±ºæ¸ˆæ‰‹æ®µ",
                label_credit_card: "ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰",
                
                label_all_agree: "ã™ã¹ã¦åŒæ„ã™ã‚‹",
                label_privacy: "å€‹äººæƒ…å ±ã®åé›†ãŠã‚ˆã³åˆ©ç”¨ã¸ã®åŒæ„",
                btn_view_terms: "ç´„æ¬¾ã‚’è¦‹ã‚‹",
                label_condition: "æ³¨æ–‡å†…å®¹ç¢ºèªãŠã‚ˆã³æ±ºæ¸ˆé€²è¡Œã¸ã®åŒæ„",
                btn_pay: "æ±ºæ¸ˆã™ã‚‹",
                
                company: "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ›ãƒ†ãƒ«æ ªå¼ä¼šç¤¾", ceo: "ä»£è¡¨è€… : ã‚¤ãƒ»ãƒ¨ãƒ³ãƒ•ã‚¡ãƒ³", biz: "ç™»éŒ²ç•ªå·: 2023-æ°´åŸéœŠé€š-1696", addr: "æ°´åŸå¸‚éœŠé€šåŒºéœŠé€šè·¯94-6"
            },
            zh: {
                flag: "ğŸ‡¨ğŸ‡³",
                img: "cn.png",
                unit_prefix: "Â¥",
                unit_suffix: "",
                unit_night: " æ™š",
                alert_agree: "å¿…é¡»åŒæ„æ‰€æœ‰æ¡æ¬¾æ‰èƒ½ä»˜æ¬¾ã€‚",
                alert_done: "æ”¯ä»˜å®Œæˆï¼è·³è½¬è‡³ç¡®è®¤é¡µé¢...",
                alert_fail: "å¤„ç†ä»˜æ¬¾æ—¶å‡ºé”™: ",
                alert_fill_info: "è¯·è¾“å…¥æ‰€æœ‰é¢„è®¢äººä¿¡æ¯ã€‚",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "æ”¯ä»˜",
                sect_product: "é¢„è®¢ä¿¡æ¯",
                room_name: "è±ªåæˆ¿ (Luxury)",
                label_schedule: "æ—¥ç¨‹",
                label_guests: "äººæ•°",
                
                sect_booker: "é¢„è®¢äººä¿¡æ¯",
                ph_name: "å§“å",
                ph_phone: "è”ç³»æ–¹å¼",
                ph_email: "ç”µå­é‚®ç®±",
                ph_request: "ç‰¹æ®Šè¦æ±‚",
                notice_sns: "* å…³æ³¨æˆ‘ä»¬çš„SNSï¼Œå¯ä»¥æ›´æ–¹ä¾¿å¿«æ·åœ°æŸ¥çœ‹é¢„è®¢ä¿¡æ¯ã€‚",
                ph_instagram: "Instagram",
                ph_tiktok: "Tiktok",
                
                sect_extra: "é™„åŠ ä¿¡æ¯",
                notice_confirm_email: "æ”¶åˆ°ç”µå­é‚®ä»¶é€šçŸ¥åï¼Œé¢„è®¢å³ç¡®è®¤ä¸ºå®Œæˆã€‚",
                label_about_res: "å…³äºé¢„è®¢ â€¢",
                notice_checkin: "* æ”¶åˆ° Insta Hotel é‚®ä»¶ (yhl5258@naver.com) å³è¡¨ç¤ºé¢„è®¢å·²ç¡®è®¤ã€‚<br>* å…¥ä½æ—¶å°†è¿›è¡Œæœ¬äººèº«ä»½éªŒè¯ã€‚",
                label_checked: "å·²ç¡®è®¤ã€‚",
                
                sect_refund: "å–æ¶ˆ/é€€æ¬¾è§„å®š",
                th_8days: "å…¥ä½8å¤©å‰",
                td_free: "æ— å–æ¶ˆè´¹ç”¨",
                th_7days: "å…¥ä½7å¤©å‰ ~ å½“å¤©",
                td_no_refund: "ä¸å¯é€€æ¬¾",
                label_agree_refund: "åŒæ„ç›¸å…³è§„å®šã€‚",
                
                sect_total: "æœ€ç»ˆæ”¯ä»˜é‡‘é¢",
                label_room_price: "å®¢æˆ¿ä»·æ ¼",
                label_option: "é€‰é¡¹",
                label_total_price: "æ€»æ”¯ä»˜é‡‘é¢",
                
                label_option_list: "å·²é€‰æ‹©çš„é€‰é¡¹",
                
                sect_method: "æ”¯ä»˜æ–¹å¼",
                label_credit_card: "ä¿¡ç”¨å¡",
                
                label_all_agree: "å…¨éƒ¨åŒæ„",
                label_privacy: "åŒæ„æ”¶é›†å’Œä½¿ç”¨ä¸ªäººä¿¡æ¯",
                btn_view_terms: "æŸ¥çœ‹æ¡æ¬¾",
                label_condition: "ç¡®è®¤è®¢å•å¹¶åŒæ„æ”¯ä»˜",
                btn_pay: "æ”¯ä»˜",
                
                company: "Insta Hotelæœ‰é™å…¬å¸", ceo: "ä»£è¡¨ï¼šææ°¸ç„•", biz: "æ³¨å†Œå·ï¼š2023-æ°´åŸçµé€š-1696", addr: "æ°´åŸå¸‚çµé€šåŒºçµé€šè·¯94-6"
            }
        };

        let currentLang = 'ko';
        const headerSelect = document.getElementById("header-lang-select");
        const drawerSelect = document.getElementById("drawer-lang-select");
        const currentFlagIcon = document.getElementById("current-flag-icon");

        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang] || translations.ko;

            // 1. êµ­ê¸° ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
            if(currentFlagIcon && t.img) {
                currentFlagIcon.src = t.img;
            }

            // 2. í…ìŠ¤íŠ¸ ë²ˆì—­ ì—…ë°ì´íŠ¸
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) {
                    el.innerHTML = t[key];
                }
            });

            // í”Œë ˆì´ìŠ¤í™€ë” ë²ˆì—­ ì ìš©
            document.getElementById('input-name').placeholder = t.ph_name;
            document.getElementById('input-phone').placeholder = t.ph_phone;
            document.getElementById('input-email').placeholder = t.ph_email;
            document.getElementById('input-request').placeholder = t.ph_request;
            document.getElementById('input-instagram').placeholder = t.ph_instagram;
            document.getElementById('input-tiktok').placeholder = t.ph_tiktok;

            document.getElementById("companyName").innerText = t.company;
            document.getElementById("ceoName").innerText = t.ceo;
            document.getElementById("bizNumber").innerText = t.biz;
            document.getElementById("address").innerText = t.addr;
            
            // ì–¸ì–´ê°€ ë°”ë€Œë©´ ê¸ˆì•¡ í‘œì‹œë„ ë‹¤ì‹œ ë Œë”ë§ (ë‹¨ìœ„ ë³€ê²½ ë“±)
            renderPriceInfo();
            
            // ì…€ë ‰íŠ¸ ë°•ìŠ¤ ê°’ ë™ê¸°í™”
            if(headerSelect) headerSelect.value = lang;
            if(drawerSelect) drawerSelect.value = lang;
        }

        function renderPriceInfo() {
            const params = new URLSearchParams(window.location.search);
            
            const checkin = params.get('checkin') || "";
            const checkout = params.get('checkout') || "";
            const nights = params.get('nights') || '0';
            const roomPrice = parseFloat(params.get('roomPrice')) || 0;
            const optionPrice = parseFloat(params.get('optionPrice')) || 0;
            const total = parseFloat(params.get('total')) || 0;

            const t = translations[currentLang];
            
            // ê¸ˆì•¡ í¬ë§·íŒ… í•¨ìˆ˜ (ë‹¬ëŸ¬ëŠ” ì†Œìˆ˜ì  2ìë¦¬, ë‚˜ë¨¸ì§€ëŠ” ì •ìˆ˜)
            const fmt = (n) => {
                let numStr;
                if(currentLang === 'en') {
                    numStr = n.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                } else {
                    numStr = Math.round(n).toLocaleString();
                }
                return t.unit_prefix + numStr + t.unit_suffix;
            };

            if(checkin && checkout) {
                document.getElementById('display-date-range').innerText = `${checkin} ~ ${checkout}`;
            }
            document.getElementById('display-nights').innerText = nights + t.unit_night;
            
            document.getElementById('display-room-price-info').innerText = fmt(roomPrice);
            document.getElementById('summary-room-price').innerText = fmt(roomPrice);
            document.getElementById('summary-option-price').innerText = fmt(optionPrice);
            document.getElementById('summary-total-price').innerText = fmt(total);

            // ì˜µì…˜ ìƒì„¸ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ë¡œì§
            const optionContainer = document.getElementById('option-detail-list');
            const optionDetailsRaw = params.get('optionDetails');
            let optionDetails = [];

            if (optionDetailsRaw) {
                try {
                    optionDetails = JSON.parse(decodeURIComponent(optionDetailsRaw));
                } catch (e) {
                    console.error("ì˜µì…˜ íŒŒì‹± ì—ëŸ¬", e);
                }
            }

            if (optionDetails.length > 0) {
                // ì˜µì…˜ì´ ìˆì„ ê²½ìš° í‘œì‹œ
                optionContainer.style.display = 'block';
                const listHtml = optionDetails.map(item => `<li>${item}</li>`).join('');
                optionContainer.innerHTML = `
                    <div style="font-weight:bold; margin-bottom:5px;">${t.label_option_list}:</div>
                    <ul>${listHtml}</ul>
                `;
            } else {
                // ì˜µì…˜ì´ ì—†ì„ ê²½ìš° ìˆ¨ê¹€
                optionContainer.style.display = 'none';
                optionContainer.innerHTML = '';
            }
        }

        // ====================================================================
        // [ì¤‘ìš”] í˜ì´ì§€ ë¡œë“œ ë° ì–¸ì–´ ë³€ê²½ ê°ì§€ ë¡œì§
        // ë‹¤ë¥¸ ì–¸ì–´ ì„ íƒ ì‹œ 'ì˜ˆì•½ìƒì„¸ëŸ­ì…”ë¦¬.html'ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        // ====================================================================
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            // URLì—ì„œ currency íŒŒë¼ë¯¸í„° ê°€ì ¸ì˜¤ê¸° (ê¸°ë³¸ê°’ ko)
            const urlLang = params.get('currency') || 'ko';
            
            // ì´ˆê¸° ì–¸ì–´ ì„¤ì •
            updateLanguage(urlLang);

            // ì–¸ì–´ ë³€ê²½ ì²˜ë¦¬ í•¨ìˆ˜
            function handleLanguageChange(e) {
                const selectedLang = e.target.value;
                // ì²˜ìŒ ë“¤ì–´ì˜¨ ì–¸ì–´(urlLang)ì™€ ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì„ íƒí–ˆë‹¤ë©´
                if (selectedLang !== urlLang) {
                    // ì˜ˆì•½ ìƒì„¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (Luxury ë£¸)
                    window.location.href = 'ì˜ˆì•½ìƒì„¸ëŸ­ì…”ë¦¬.html';
                } else {
                    // ê°™ì€ ì–¸ì–´ë¼ë©´ ë‹¨ìˆœ í™”ë©´ ê°±ì‹ 
                    updateLanguage(selectedLang);
                }
            }

            // í—¤ë” ì–¸ì–´ ì„ íƒ ì´ë²¤íŠ¸
            if(headerSelect) {
                headerSelect.addEventListener("change", handleLanguageChange);
            }
            
            // ëª¨ë°”ì¼ ë“œë¡œì–´ ì–¸ì–´ ì„ íƒ ì´ë²¤íŠ¸
            if(drawerSelect) {
                drawerSelect.addEventListener("change", handleLanguageChange);
            }
        };

        const chkAll = document.getElementById('chk-all');
        const subChks = document.querySelectorAll('.chk-sub');

        chkAll.addEventListener('change', function() {
            subChks.forEach(chk => chk.checked = this.checked);
        });

        subChks.forEach(chk => {
            chk.addEventListener('change', function() {
                const allChecked = Array.from(subChks).every(c => c.checked);
                chkAll.checked = allChecked;
            });
        });

        const modal = document.getElementById("termsModal");

        function openModal() {
            modal.style.display = "flex"; 
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // â˜… 1. í† ìŠ¤ í˜ì´ë¨¼ì¸  ì´ˆê¸°í™”
    const clientKey = 'test_ck_AQ92ymxN34LZbYYEqagP3ajRKXvd'; // í…ŒìŠ¤íŠ¸ í‚¤
    var tossPayments = TossPayments(clientKey);

    // â˜… 2. ê²°ì œ ìš”ì²­ í•¨ìˆ˜ (ìŠ¤íƒ ë‹¤ë“œìš©)
    async function requestPayment() {
        // (1) ì•½ê´€ ë™ì˜ í™•ì¸
        const isInfoChecked = document.getElementById('chk-info').checked;
        const isRefundChecked = document.getElementById('chk-refund').checked;
        const isTermsChecked = document.getElementById('chk-all').checked;
        const t = translations[currentLang];

        if (!isInfoChecked || !isRefundChecked || !isTermsChecked) {
            alert(t.alert_agree);
            return;
        }

        // (2) ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
        const name = document.getElementById('input-name').value.trim();
        const phone = document.getElementById('input-phone').value.trim();
        const email = document.getElementById('input-email').value.trim();
        const insta = document.getElementById('input-instagram').value.trim();
        const tiktok = document.getElementById('input-tiktok').value.trim();
        const requestMsg = document.getElementById('input-request').value.trim();

        if (!name || !phone || !email) {
            alert(t.alert_fill_all);
            return;
        }

        // (3) URL íŒŒë¼ë¯¸í„° ê°€ì ¸ì˜¤ê¸°
        const params = new URLSearchParams(window.location.search);
        const checkin = params.get('checkin');
        const checkout = params.get('checkout');
        // â˜… ëŸ­ì…”ë¦¬ ë£¸ ID ê¸°ë³¸ê°’ì€ 4
        const roomId = parseInt(params.get('roomId')) || 4; 
        const roomPrice = parseFloat(params.get('roomPrice')) || 0;
        const total = parseFloat(params.get('total')) || 0;
        
        let selectedOptionsArray = [];
        const optionDetailsRaw = params.get('optionDetails');
        if (optionDetailsRaw) {
            try {
                selectedOptionsArray = JSON.parse(decodeURIComponent(optionDetailsRaw));
            } catch (e) {
                console.error("ì˜µì…˜ íŒŒì‹± ì˜¤ë¥˜", e);
            }
        }

        // ---------------------------------------------------------
        // (4) ì„ì‹œ ì €ì¥ (ê²°ì œ ì„±ê³µ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨)
        // ---------------------------------------------------------
        const bookingData = {
            guest_name: name,
            phone: phone,
            guest_email: email,
            check_in: checkin,
            check_out: checkout,
            room_id: roomId,
            room_price: roomPrice,
            total_price: total,
            currency: currentLang,
            selected_options: selectedOptionsArray,
            social_insta: insta,
            social_tiktok: tiktok,
            guest_request: requestMsg,
            status: 'ê²°ì œì™„ë£Œ' 
        };
        localStorage.setItem('tempBookingData', JSON.stringify(bookingData));

        // ---------------------------------------------------------
        // (5) í† ìŠ¤ ê²°ì œì°½ ë„ìš°ê¸°
        // ---------------------------------------------------------
        const orderId = 'ORDER_STD_' + new Date().getTime() + Math.floor(Math.random() * 1000);
        
        // ê²°ì œ ê¸ˆì•¡ì´ 0ì›ì´ë©´ ì—ëŸ¬ë‚˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ìš© 1000ì› ì„¤ì • (ì‹¤ì œ ìš´ì˜ì‹œ ìˆ˜ì • í•„ìš”)
        const payAmount = total > 0 ? total : 1000; 

        tossPayments.requestPayment('ì¹´ë“œ', {
            amount: payAmount,
            orderId: orderId,
            orderName: 'Insta Hotel ëŸ­ì…”ë¦¬ ì˜ˆì•½', // ì£¼ë¬¸ëª…
            customerName: name,
            customerEmail: email,
            successUrl: window.location.origin + '/success.html', // ì„±ê³µ í˜ì´ì§€
            failUrl: window.location.origin + '/fail.html',       // ì‹¤íŒ¨ í˜ì´ì§€
        })
        .catch(function (error) {
            if (error.code === 'USER_CANCEL') {
                alert('ê²°ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');
            } else {
                alert('ê²°ì œ ì‹¤íŒ¨: ' + error.message);
            }
        });
    }
    </script>
</body>
</html>
