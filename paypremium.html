<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment â€“ Insta Hotel - mainbranch</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì •] */
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; font-family: 'Poppins', 'Noto Sans KR', sans-serif; background-color: #f4f4f4; color: #333; }
        
        /* ê²°ì œ í˜ì´ì§€ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
        .payment-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 60px; /* í—¤ë” ë†’ì´ ê³ ë ¤í•˜ì—¬ ìƒë‹¨ íŒ¨ë”© ìœ ì§€ */
        }

        /* í¼ ìŠ¤íƒ€ì¼ */
        input[type="text"], input[type="email"], textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
            font-family: inherit;
            font-size: 14px;
        }
        
        /* ë¼ë””ì˜¤/ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ - ì£¼í™©ìƒ‰ ê°•ì¡° */
        input[type="checkbox"], input[type="radio"] {
            margin-right: 5px;
            vertical-align: middle;
            accent-color: #ff6900;
            width: 18px; 
            height: 18px;
            cursor: pointer;
        }
        
        label { vertical-align: middle; cursor: pointer; }

        /* íƒ€ì´í‹€ & ê·¸ë¦¬ë“œ */
        .page-title {
            text-align: center;
            padding-bottom: 40px;
            font-size: 28px;
            font-weight: 700;
            color: #333;
        }
        .checkout-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        /* ì¹´ë“œ ì„¹ì…˜ */
        .section-card {
            background: white;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            color: #222;
        }

        /* ìƒí’ˆ ì •ë³´ */
        .product-info { display: flex; gap: 20px; }
        .product-img {
            width: 120px;
            height: 120px;
            background-color: #eee;
            object-fit: cover;
            border-radius: 4px;
        }
        .product-details h3 { font-size: 18px; font-weight: 700; margin-bottom: 8px; }
        .product-details p { font-size: 14px; color: #666; margin-bottom: 5px; }
        .price { font-weight: bold; font-size: 18px; margin-top: 15px; color: #ff6900; }

        /* ì…ë ¥ í¼ ë ˆì´ì•„ì›ƒ */
        .input-row { display: flex; gap: 10px; }
        .input-half { width: 50%; }

        /* ì•ˆë‚´ ë°•ìŠ¤ */
        .info-box {
            background-color: #fff0e6;
            border-left: 4px solid #ff6900;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #555;
            line-height: 1.5;
        }
        .notice-text {
            font-size: 13px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        .confirm-check {
            display: flex;
            align-items: center;
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 14px;
            font-weight: 500;
        }

        /* í…Œì´ë¸” */
        .refund-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            margin-bottom: 15px;
        }
        .refund-table th, .refund-table td {
            border: 1px solid #eee;
            padding: 12px;
            text-align: left;
        }
        .refund-table th { background-color: #f9f9f9; width: 60%; font-weight: 600; }

        /* ìš°ì¸¡ ê²°ì œ ìš”ì•½ */
        .price-summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 14px;
            color: #555;
        }
        .total-price-row {
            display: flex;
            justify-content: space-between;
            border-top: 2px solid #eee;
            padding-top: 20px;
            margin-top: 10px;
            font-weight: bold;
            font-size: 18px;
            align-items: center;
        }
        .total-price { color: #ff6900; font-size: 24px; }

        /* ì„ íƒí•œ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .option-detail-list { 
            margin-top: 5px; 
            margin-bottom: 15px;
            font-size: 13px; 
            color: #666; 
            background-color: #fafafa;
            padding: 10px;
            border-radius: 4px;
        }
        .option-detail-list ul { 
            margin-top: 4px; 
            padding-left: 15px; 
            list-style: disc; 
        }
        .option-detail-list li {
            margin-bottom: 2px;
        }

        .payment-method label { 
            display: flex; 
            align-items: center; 
            margin-right: 15px; 
            font-size: 14px; 
        }
        .terms-list { list-style: none; margin-top: 10px; padding: 0; }
        .terms-list li { margin-bottom: 10px; font-size: 13px; color: #666; display: flex; justify-content: space-between; align-items: center; }
        .terms-list li.main-check {
            font-weight: bold; color: #333; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;
        }
        .term-link { color: #888; text-decoration: underline; font-size: 11px; cursor: pointer; }

        .btn-submit {
            width: 100%;
            background-color: #ff6900;
            color: white;
            border: none;
            padding: 18px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
            margin-top: 20px;
        }
        .btn-submit:hover { background-color: #e05e00; }

        /* íŒì—… ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed; 
            z-index: 100; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.5); 
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 10px;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .payment-container { padding-top: 80px; }
            .checkout-grid { grid-template-columns: 1fr; gap: 20px; }
            .product-info { flex-direction: row; }
            .product-img { width: 80px; height: 80px; }
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        const supabaseUrl = 'https://eyasihczaqsacenklhns.supabase.co'
        const supabaseKey = 'sb_publishable_KgiOOQUrWJzQTDCZnbhGcw_otKoMO27'
        
        // window ê°ì²´ì— ë‹´ì•„ì„œ ì–´ë””ì„œë“  êº¼ë‚´ ì“¸ ìˆ˜ ìˆê²Œ í•¨
        window.supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey)
        
        console.log("í™ˆí˜ì´ì§€-ìŠˆíŒŒë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ!");
    </script>
</head>
<body class="bg-[#f4f4f4] text-slate-900 font-sans">

    <header id="header" class="fixed top-0 left-0 right-0 z-30 bg-[#ff6900] text-white shadow-md">
        <div class="w-full px-4 md:px-10 py-3 flex items-center justify-between h-14 relative">
          
          <button id="mobile-menu-btn" class="md:hidden text-white flex items-center focus:outline-none drop-shadow-md z-20">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-8 h-8">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
          </button>
    
          <a href="index.html" class="absolute left-1/2 transform -translate-x-1/2 md:static md:translate-x-0 md:flex items-center drop-shadow-md z-20">
            <span class="text-2xl font-bold tracking-tight md:hidden">Insta hotel</span>
            <span class="hidden md:block text-2xl font-semibold tracking-tight">Insta Hotel - mainbranch</span>
          </a>
    
          <nav class="hidden md:flex items-center gap-5 whitespace-nowrap text-sm font-medium drop-shadow-md md:absolute md:left-1/2 md:-translate-x-1/2 z-10">
            <a href="about.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_about">about</a>
            <a href="rooms.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_rooms">rooms</a>
            <a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="hover:text-orange-200 transition-colors">breakfast</a>
            <a href="reservation.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_reservation">reservation (ì˜ˆì•½)</a>
            <a href="instaspot.html" class="hover:text-orange-200 transition-colors">insta spot (ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a>
            <a href="#lounge" class="hover:text-orange-200 transition-colors" data-i18n="nav_lounge">bluerain lounge</a>
            <a href="contact.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_contact">contact</a>
          </nav>
    
          <div class="flex items-center relative drop-shadow-md z-20">
             <div class="flex items-center gap-2 cursor-pointer relative group">
                <img id="current-flag-icon" src="kr.png" alt="Korea" class="w-8 h-5 object-cover rounded shadow-sm border border-white/30 transition-transform group-hover:scale-110">
                
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-white opacity-90">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
    
                <select id="header-lang-select" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer appearance-none text-slate-900">
                    <option value="ko" class="text-slate-900">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                    <option value="en" class="text-slate-900">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="ja" class="text-slate-900">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                    <option value="zh" class="text-slate-900">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                </select>
             </div>
          </div>
    
        </div>
      </header>
    
      <div id="drawer-overlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden transition-opacity duration-300"></div>
      
      <nav id="mobile-drawer" class="fixed top-0 left-0 w-[75%] max-w-sm h-full z-50 bg-white shadow-xl text-slate-900 md:hidden transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="p-6">
          <button id="mobile-menu-close-btn" class="absolute top-4 right-4 text-3xl font-light hover:text-[#ff6900]">&times;</button>
          
          <div class="mt-2 mb-8">
            <span class="text-xl font-bold tracking-tight text-[#ff6900]">Insta hotel</span>
          </div>
          
          <ul class="flex flex-col space-y-4 text-lg font-medium">
            <li><a href="about.html" class="block hover:text-[#ff6900]" data-i18n="nav_about">about</a></li>
            
            <li>
                <div class="flex justify-between items-center cursor-pointer hover:text-[#ff6900]" id="rooms-toggle">
                    <span data-i18n="nav_rooms">rooms</span> <span class="text-sm">â–¼</span>
                </div>
                <ul id="rooms-submenu" class="hidden mt-3 ml-4 space-y-3 border-l-2 border-slate-100 pl-4">
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Twin</a></li>
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Special</a></li>
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Luxury</a></li>
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Premium</a></li>
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Deluxe</a></li>
                    <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Standard</a></li>
                    <li><a href="reservation.html" class="block text-sm text-slate-600 hover:text-[#ff6900] font-semibold">Long Stay</a></li>
                </ul>
            </li>
    
            <li><a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="block hover:text-[#ff6900]">breakfast</a></li>
            <li><a href="reservation.html" class="block hover:text-[#ff6900]" data-i18n="nav_reservation">reservation (ì˜ˆì•½)</a></li>
            <li><a href="instaspot.html" class="block hover:text-[#ff6900]">insta spot (ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a></li>
            <li><a href="#lounge" class="block hover:text-[#ff6900]" data-i18n="nav_lounge">bluerain lounge</a></li>
            <li><a href="contact.html" class="block hover:text-[#ff6900]" data-i18n="nav_contact">contact</a></li>
          </ul>
    
          <div class="mt-8 border-t pt-4">
              <p class="text-sm text-slate-400 mb-2">Language</p>
              <select id="drawer-lang-select" class="w-full p-2 border rounded text-slate-700 bg-slate-50 outline-none">
                  <option value="ko">Korean</option>
                  <option value="en">English</option>
                  <option value="ja">Japanese</option>
                  <option value="zh">Chinese</option>
              </select>
          </div>
        </div>
      </nav>

    <main class="payment-container">
        <h2 class="page-title" data-i18n="page_title">ê²°ì œí•˜ê¸°</h2>

        <div class="checkout-grid">
            
            <div class="left-column">
                
                <div class="section-card">
                    <div class="section-title" data-i18n="sect_product">ì˜ˆì•½ ìƒí’ˆ ì •ë³´</div>
                    <div class="product-info">
                        <img src="hero2.jpg" alt="ê°ì‹¤ ì´ë¯¸ì§€" class="product-img">
                        <div class="product-details">
                            <h3 data-i18n="room_name">í”„ë¦¬ë¯¸ì—„ (Premium)</h3>
                            <p><span data-i18n="label_schedule">ì¼ì •</span>: <span id="display-nights">1ë°•</span> (<span id="display-date-range">ë‚ ì§œ ë¯¸ì„ íƒ</span>)</p>
                            <p><span data-i18n="label_guests">ì¸ì›</span>: <span data-i18n="text_guests_default">ì„±ì¸ 2ëª… (ê¸°ë³¸)</span></p>
                            <div class="price" id="display-room-price-info">0ì›</div>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_booker">ì˜ˆì•½ì ì •ë³´</div>
                    
                    <div class="input-row">
                        <div class="input-half">
                            <input type="text" id="input-name" placeholder="ì´ë¦„ (Name)">
                        </div>
                        <div class="input-half">
                            <input type="text" id="input-phone" placeholder="ì—°ë½ì²˜ (Phone)">
                        </div>
                    </div>

                    <input type="email" id="input-email" placeholder="ì´ë©”ì¼ (E-mail)">
                    
                    <div style="font-size: 12px; color: #ff6900; margin-top: 15px; margin-bottom: 5px; font-weight: 500;" data-i18n="notice_sns">
                        * ìš°ë¦¬ì™€ SNS íŒ”ë¡œìš° í•˜ë©´ ì˜ˆì•½ì •ë³´ë¥¼ ê°„í¸í•˜ê³  ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>

                    <div class="input-row">
                        <div class="input-half">
                            <input type="text" id="input-instagram" placeholder="ì¸ìŠ¤íƒ€ê·¸ë¨ (Instagram)">
                        </div>
                        <div class="input-half">
                            <input type="text" id="input-tiktok" placeholder="í‹±í†¡ (Tiktok)">
                        </div>
                    </div>
                    
                    <input type="text" id="input-request" placeholder="ìš”ì²­ì‚¬í•­ (Requests)" style="margin-top: 10px;">
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_extra">ì¶”ê°€ì •ë³´ ì…ë ¥</div>
                    <div class="info-box" data-i18n="notice_confirm_email">
                        ì˜ˆì•½ í™•ì •ì€ ì´ë©”ì¼ ì•Œë¦¼ì„ ë°›ìœ¼ì…”ì•¼ ì™„ë£Œë©ë‹ˆë‹¤.
                    </div>
                    <p class="notice-text">
                        <strong data-i18n="label_about_res">ì˜ˆì•½ê³¼ ê´€ë ¨í•˜ì—¬ â€¢</strong><br>
                        * <span data-i18n="notice_checkin">insta hotel email (yhl5258@naver.com)ì„ ë°›ìœ¼ì…”ì•¼ ì˜ˆì•½ í™•ì •ì´ ëœ ê²ƒì…ë‹ˆë‹¤.<br>
                        * ì²´í¬ì¸ ë‹¹ì¼ í˜„ì¥ì—ì„œ ì˜ˆì•½ì ë³¸ì¸ í™•ì¸ì´ ì§„í–‰ë©ë‹ˆë‹¤.</span>
                    </p>
                    
                    <label class="confirm-check">
                        <input type="radio" name="confirm1" id="chk-info"> &nbsp;<span data-i18n="label_checked">í™•ì¸í–ˆìŠµë‹ˆë‹¤.</span>
                    </label>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_refund">ì·¨ì†Œ/í™˜ë¶ˆ ê·œì •ì— ëŒ€í•œ ë™ì˜</div>
                    <table class="refund-table">
                        <tr>
                            <th data-i18n="th_8days">ì´ìš© 8ì¼ ì „ê¹Œì§€</th>
                            <td data-i18n="td_free">ì·¨ì†Œìˆ˜ìˆ˜ë£Œ ì—†ìŒ</td>
                        </tr>
                        <tr>
                            <th data-i18n="th_7days">ì´ìš© ë‹¹ì¼ ~ ì´ìš© 7ì¼ ì „ê¹Œì§€</th>
                            <td data-i18n="td_no_refund">í™˜ë¶ˆë¶ˆê°€ëŠ¥</td>
                        </tr>
                    </table>
                    <label class="confirm-check">
                        <input type="checkbox" id="chk-refund"> &nbsp;<span data-i18n="label_agree_refund">ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì •ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
                    </label>
                </div>

            </div>

            <div class="right-column">
                
                <div class="section-card">
                    <div class="section-title" data-i18n="sect_total">ìµœì¢… ê²°ì œê¸ˆì•¡</div>
                    <div class="price-summary-row">
                        <span data-i18n="label_room_price">ê°ì‹¤ ê°€ê²©</span>
                        <span id="summary-room-price">0ì›</span>
                    </div>
                    <div class="price-summary-row">
                        <span data-i18n="label_option">ì˜µì…˜(ì¡°ì‹ ë“±)</span>
                         <span id="summary-option-price">0ì›</span>
                    </div>

                    <div id="option-detail-list" class="option-detail-list" style="display:none;"></div>

                    <div class="total-price-row">
                        <span data-i18n="label_total_price">ì´ ê²°ì œê¸ˆì•¡</span>
                         <span class="total-price" id="summary-total-price">0ì›</span>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-title" data-i18n="sect_method">ê²°ì œìˆ˜ë‹¨</div>
                    <div class="payment-method">
                        <label><input type="radio" name="payment" checked> <span data-i18n="label_credit_card">ì‹ ìš©ì¹´ë“œ</span></label>
                    </div>
                </div>

                <div class="section-card" style="border:none; box-shadow:none; padding: 0; background:none;">
                    <ul class="terms-list">
                        <li class="main-check">
                            <label><input type="checkbox" id="chk-all"> <span data-i18n="label_all_agree">ì „ì²´ ë™ì˜</span></label>
                        </li>
                        <li>
                            <label><input type="checkbox" class="chk-sub"> <span data-i18n="label_privacy">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</span></label>
                            <span class="term-link" onclick="openModal()" data-i18n="btn_view_terms">ì•½ê´€ë³´ê¸°</span>
                        </li>
                        <li>
                            <label><input type="checkbox" class="chk-sub"> <span data-i18n="label_condition">êµ¬ë§¤ì¡°ê±´ í™•ì¸ ë° ê²°ì œì§„í–‰ ë™ì˜</span></label>
                        </li>
                    </ul>
                </div>

                <button class="btn-submit" onclick="requestPayment()" data-i18n="btn_pay">ê²°ì œí•˜ê¸°</button>

            </div>
        </div>
    </main>

    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <img src="ì•½ê´€ë³´ê¸°.png" alt="ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜" style="width: 100%;">
        </div>
    </div>

    <section id="contact" class="pt-10 pb-12 bg-white border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 text-center text-xs text-slate-600 space-y-3">
            <div class="flex justify-center gap-4 text-lg"> 
                <a href="https://www.instagram.com/instahotel_mainbranch/" target="_blank"><img src="icons8-ì¸ìŠ¤-íƒ€-ê·¸ë¨-48.png" alt="Instagram" width="24" height="24"></a>
                <a href="https://map.naver.com/p/entry/place/1630717211" target="_blank"><img src="icons8-ë„¤ì´ë²„-64.png" alt="Naver" width="24" height="24"></a>
                <a href="http://pf.kakao.com/_xiITuG" target="_blank"><img src="icons8-ì¹´ì¹´ì˜¤-í†¡-48.png" alt="KakaoTalk" width="24" height="24"></a>
                <a href="https://www.facebook.com/VIPdesign2020" target="_blank"><img src="icons8-í˜ì´ìŠ¤-ë¶-48.png" alt="Facebook" width="24" height="24"></a>        
            </div>
            <div class="space-y-1">
                <p>insta hotel mainbranch, Korea</p>
                <p id="companyName">(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€</p>
                <p id="ceoName">ëŒ€í‘œì : ì´ì˜í™˜</p>
                <p id="bizNumber">í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸</p>
                <p id="address">ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6</p>
                <p>Business License 176-24-01388 | Tel 031-203-4301</p>
            </div>
        </div>
    </section>

    <script>
        /* --------------------------------------
           1. ëª¨ë°”ì¼ ë©”ë‰´ (Drawer) ì—´ê¸°/ë‹«ê¸° (ì¶”ê°€ë¨)
        -------------------------------------- */
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileDrawer = document.getElementById("mobile-drawer");
        const drawerOverlay = document.getElementById("drawer-overlay");
        const mobileCloseBtn = document.getElementById("mobile-menu-close-btn");

        function openMenu() {
            mobileDrawer.classList.remove("-translate-x-full");
            drawerOverlay.classList.remove("hidden");
            document.body.style.overflow = "hidden"; 
        }
        function closeMenu() {
            mobileDrawer.classList.add("-translate-x-full");
            drawerOverlay.classList.add("hidden");
            document.body.style.overflow = ""; 
        }

        if (mobileMenuBtn) mobileMenuBtn.addEventListener("click", openMenu);
        if (mobileCloseBtn) mobileCloseBtn.addEventListener("click", closeMenu);
        if (drawerOverlay) drawerOverlay.addEventListener("click", closeMenu);

        const roomsToggle = document.getElementById("rooms-toggle");
        const roomsSubmenu = document.getElementById("rooms-submenu");
        if(roomsToggle && roomsSubmenu){
            roomsToggle.addEventListener("click", () => {
                roomsSubmenu.classList.toggle("hidden");
            });
        }

        /* --------------------------------------
           2. ë‹¤êµ­ì–´ ë°ì´í„° ë° ë¡œì§
        -------------------------------------- */
        const translations = {
            ko: {
                flag: "ğŸ‡°ğŸ‡·",
                img: "kr.png", // ì´ë¯¸ì§€ íŒŒì¼ëª… ì¶”ê°€
                unit_won: "ì›",
                unit_night: "ë°•",
                
                alert_agree: "ëª¨ë‘ ë™ì˜ë¥¼ í•´ì•¼ ê²°ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                alert_done: "ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! (ë°ëª¨)",
                alert_fill_info: "ì˜ˆì•½ì ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation (ì˜ˆì•½)", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "ê²°ì œí•˜ê¸°",
                sect_product: "ì˜ˆì•½ ìƒí’ˆ ì •ë³´",
                room_name: "ë””ëŸ­ìŠ¤ (Deluxe)",
                label_schedule: "ì¼ì •",
                text_date_unselected: "ë‚ ì§œ ë¯¸ì„ íƒ",
                label_guests: "ì¸ì›",
                text_guests_default: "ì„±ì¸ 2ëª… (ê¸°ë³¸)",
                
                sect_booker: "ì˜ˆì•½ì ì •ë³´",
                ph_name: "ì´ë¦„ (Name)",
                ph_phone: "ì—°ë½ì²˜ (Phone)",
                ph_email: "ì´ë©”ì¼ (E-mail)",
                ph_request: "ìš”ì²­ì‚¬í•­ (Requests)",
                notice_sns: "* ìš°ë¦¬ì™€ SNS íŒ”ë¡œìš° í•˜ë©´ ì˜ˆì•½ì •ë³´ë¥¼ ê°„í¸í•˜ê³  ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                
                sect_extra: "ì¶”ê°€ì •ë³´ ì…ë ¥",
                notice_confirm_email: "ì˜ˆì•½ í™•ì •ì€ ì´ë©”ì¼ ì•Œë¦¼ì„ ë°›ìœ¼ì…”ì•¼ ì™„ë£Œë©ë‹ˆë‹¤.",
                label_about_res: "ì˜ˆì•½ê³¼ ê´€ë ¨í•˜ì—¬ â€¢",
                notice_checkin: "insta hotel email (yhl5258@naver.com)ì„ ë°›ìœ¼ì…”ì•¼ ì˜ˆì•½ í™•ì •ì´ ëœ ê²ƒì…ë‹ˆë‹¤.<br>* ì²´í¬ì¸ ë‹¹ì¼ í˜„ì¥ì—ì„œ ì˜ˆì•½ì ë³¸ì¸ í™•ì¸ì´ ì§„í–‰ë©ë‹ˆë‹¤.",
                label_checked: "í™•ì¸í–ˆìŠµë‹ˆë‹¤.",
                
                sect_refund: "ì·¨ì†Œ/í™˜ë¶ˆ ê·œì •ì— ëŒ€í•œ ë™ì˜",
                th_8days: "ì´ìš© 8ì¼ ì „ê¹Œì§€",
                td_free: "ì·¨ì†Œìˆ˜ìˆ˜ë£Œ ì—†ìŒ",
                th_7days: "ì´ìš© ë‹¹ì¼ ~ ì´ìš© 7ì¼ ì „ê¹Œì§€",
                td_no_refund: "í™˜ë¶ˆë¶ˆê°€ëŠ¥",
                label_agree_refund: "ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì •ì— ë™ì˜í•©ë‹ˆë‹¤.",
                
                sect_total: "ìµœì¢… ê²°ì œê¸ˆì•¡",
                label_room_price: "ê°ì‹¤ ê°€ê²©",
                label_option: "ì˜µì…˜(ì¡°ì‹ ë“±)",
                label_total_price: "ì´ ê²°ì œê¸ˆì•¡",
                label_option_list: "ì„ íƒí•œ ì˜µì…˜",
                
                sect_method: "ê²°ì œìˆ˜ë‹¨",
                label_credit_card: "ì‹ ìš©ì¹´ë“œ",
                
                label_all_agree: "ì „ì²´ ë™ì˜",
                label_privacy: "ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜",
                btn_view_terms: "ì•½ê´€ë³´ê¸°",
                label_condition: "êµ¬ë§¤ì¡°ê±´ í™•ì¸ ë° ê²°ì œì§„í–‰ ë™ì˜",
                btn_pay: "ê²°ì œí•˜ê¸°",
                
                company: "(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€", 
                ceo: "ëŒ€í‘œì : ì´ì˜í™˜", 
                biz: "í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸", 
                addr: "ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6"
            },
            en: {
                flag: "ğŸ‡ºğŸ‡¸",
                img: "usa.png", // ì´ë¯¸ì§€ íŒŒì¼ëª… ì¶”ê°€
                unit_won: " KRW",
                unit_night: " nights",
                
                alert_agree: "You must agree to all terms to proceed.",
                alert_done: "Payment Completed! (Demo)",
                alert_fill_info: "Please fill in all guest information.",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "Payment",
                sect_product: "Booking Info",
                room_name: "Premium",
                label_schedule: "Schedule",
                text_date_unselected: "Date not selected",
                label_guests: "Guests",
                text_guests_default: "2 Adults (Standard)",
                
                sect_booker: "Guest Info",
                ph_name: "Name",
                ph_phone: "Phone Number",
                ph_email: "E-mail Address",
                ph_request: "Requests",
                notice_sns: "* Follow us on SNS to check your reservation information easily and quickly.",
                
                sect_extra: "Additional Info",
                notice_confirm_email: "Booking is confirmed only after receiving the email notification.",
                label_about_res: "About Reservation â€¢",
                notice_checkin: "You must receive an email from insta hotel (yhl5258@naver.com) to confirm.<br>* ID verification required at check-in.",
                label_checked: "I have checked.",
                
                sect_refund: "Cancellation & Refund Policy",
                th_8days: "Up to 8 days prior",
                td_free: "Free Cancellation",
                th_7days: "7 days prior ~ Day of stay",
                td_no_refund: "Non-refundable",
                label_agree_refund: "I agree to the policy.",
                
                sect_total: "Payment Summary",
                label_room_price: "Room Price",
                label_option: "Options",
                label_total_price: "Total Amount",
                label_option_list: "Selected Options",
                
                sect_method: "Payment Method",
                label_credit_card: "Credit Card",
                
                label_all_agree: "Agree to All",
                label_privacy: "Consent to Collection & Use of Personal Info",
                btn_view_terms: "View Terms",
                label_condition: "Confirm Order & Agree to Payment",
                btn_pay: "Pay Now",
                
                company: "Insta Hotel Co., Ltd.", 
                ceo: "CEO: Lee Young Hwan", 
                biz: "Reg: 2023-Suwon Yeongtong-1696", 
                addr: "94-6, Yeongtong-ro, Yeongtong-gu, Suwon-si"
            },
            ja: {
                flag: "ğŸ‡¯ğŸ‡µ",
                img: "jp.png", // ì´ë¯¸ì§€ íŒŒì¼ëª… ì¶”ê°€
                unit_won: " ã‚¦ã‚©ãƒ³",
                unit_night: " æ³Š",
                
                alert_agree: "ã™ã¹ã¦ã®è¦ç´„ã«åŒæ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
                alert_done: "æ±ºæ¸ˆãŒå®Œäº†ã—ã¾ã—ãŸï¼(ãƒ‡ãƒ¢)",
                alert_fill_info: "äºˆç´„è€…æƒ…å ±ã‚’ã™ã¹ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                
                page_title: "æ±ºæ¸ˆ",
                sect_product: "äºˆç´„æƒ…å ±",
                room_name: "ãƒ—ãƒ¬ãƒŸã‚¢ãƒ  (Premium)",
                label_schedule: "æ—¥ç¨‹",
                text_date_unselected: "æ—¥ä»˜æœªé¸æŠ",
                label_guests: "äººæ•°",
                text_guests_default: "å¤§äºº2å (åŸºæœ¬)",
                
                sect_booker: "äºˆç´„è€…æƒ…å ±",
                ph_name: "åå‰",
                ph_phone: "é€£çµ¡å…ˆ",
                ph_email: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
                ph_request: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
                notice_sns: "* SNSã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ã¨ã€äºˆç´„æƒ…å ±ã‚’ç°¡å˜ã‹ã¤è¿…é€Ÿã«ç¢ºèªã§ãã¾ã™ã€‚",
                
                sect_extra: "è¿½åŠ æƒ…å ±",
                notice_confirm_email: "äºˆç´„ç¢ºå®šã¯ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’å—ä¿¡ã—ãŸæ™‚ç‚¹ã§å®Œäº†ã—ã¾ã™ã€‚",
                label_about_res: "äºˆç´„ã«ã¤ã„ã¦ â€¢",
                notice_checkin: "Insta Hotelã®ãƒ¡ãƒ¼ãƒ«(yhl5258@naver.com)ã‚’å—ä¿¡ã™ã‚‹ã¨äºˆç´„ç¢ºå®šã¨ãªã‚Šã¾ã™ã€‚<br>* ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ™‚ã«æœ¬äººç¢ºèªãŒè¡Œã‚ã‚Œã¾ã™ã€‚",
                label_checked: "ç¢ºèªã—ã¾ã—ãŸã€‚",
                
                sect_refund: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»æ‰•ã„æˆ»ã—è¦å®š",
                th_8days: "åˆ©ç”¨8æ—¥å‰ã¾ã§",
                td_free: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãªã—",
                th_7days: "åˆ©ç”¨7æ—¥å‰ã€œå½“æ—¥",
                td_no_refund: "æ‰•ã„æˆ»ã—ä¸å¯",
                label_agree_refund: "è¦å®šã«åŒæ„ã—ã¾ã™ã€‚",
                
                sect_total: "æ±ºæ¸ˆé‡‘é¡",
                label_room_price: "å®¢å®¤ä¾¡æ ¼",
                label_option: "ã‚ªãƒ—ã‚·ãƒ§ãƒ³",
                label_total_price: "ç·æ±ºæ¸ˆé‡‘é¡",
                label_option_list: "é¸æŠã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³",
                
                sect_method: "æ±ºæ¸ˆæ‰‹æ®µ",
                label_credit_card: "ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰",
                
                label_all_agree: "ã™ã¹ã¦åŒæ„ã™ã‚‹",
                label_privacy: "å€‹äººæƒ…å ±ã®åé›†ãŠã‚ˆã³åˆ©ç”¨ã¸ã®åŒæ„",
                btn_view_terms: "ç´„æ¬¾ã‚’è¦‹ã‚‹",
                label_condition: "æ³¨æ–‡å†…å®¹ç¢ºèªãŠã‚ˆã³æ±ºæ¸ˆé€²è¡Œã¸ã®åŒæ„",
                btn_pay: "æ±ºæ¸ˆã™ã‚‹",
                
                company: "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ›ãƒ†ãƒ«æ ªå¼ä¼šç¤¾", 
                ceo: "ä»£è¡¨è€… : ã‚¤ãƒ»ãƒ¨ãƒ³ãƒ•ã‚¡ãƒ³", 
                biz: "ç™»éŒ²ç•ªå·: 2023-æ°´åŸéœŠé€š-1696", 
                addr: "æ°´åŸå¸‚éœŠé€šåŒºéœŠé€šè·¯94-6"
            },
            zh: {
                flag: "ğŸ‡¨ğŸ‡³",
                img: "cn.png", // ì´ë¯¸ì§€ íŒŒì¼ëª… ì¶”ê°€
                unit_won: " éŸ©å…ƒ",
                unit_night: " æ™š",
                
                alert_agree: "å¿…é¡»åŒæ„æ‰€æœ‰æ¡æ¬¾æ‰èƒ½ä»˜æ¬¾ã€‚",
                alert_done: "æ”¯ä»˜å®Œæˆï¼(æ¼”ç¤º)",
                alert_fill_info: "è¯·å¡«å†™æ‰€æœ‰é¢„è®¢äººä¿¡æ¯ã€‚",
                
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "è“é›¨ä¼‘æ¯å®¤", nav_contact: "è”ç³»æˆ‘ä»¬",
                
                page_title: "æ”¯ä»˜",
                sect_product: "é¢„è®¢ä¿¡æ¯",
                room_name: "é«˜çº§ç‰ˆ (Premium)",
                label_schedule: "æ—¥ç¨‹",
                text_date_unselected: "æ—¥æœŸæœªé€‰æ‹©",
                label_guests: "äººæ•°",
                text_guests_default: "æˆäºº2å (æ ‡å‡†)",
                
                sect_booker: "é¢„è®¢äººä¿¡æ¯",
                ph_name: "å§“å",
                ph_phone: "è”ç³»æ–¹å¼",
                ph_email: "ç”µå­é‚®ç®±",
                ph_request: "ç‰¹æ®Šè¦æ±‚",
                notice_sns: "* å…³æ³¨æˆ‘ä»¬çš„SNSï¼Œå¯ä»¥æ›´æ–¹ä¾¿å¿«æ·åœ°æŸ¥çœ‹é¢„è®¢ä¿¡æ¯ã€‚",
                
                sect_extra: "é™„åŠ ä¿¡æ¯",
                notice_confirm_email: "æ”¶åˆ°ç”µå­é‚®ä»¶é€šçŸ¥åï¼Œé¢„è®¢å³ç¡®è®¤ä¸ºå®Œæˆã€‚",
                label_about_res: "å…³äºé¢„è®¢ â€¢",
                notice_checkin: "æ”¶åˆ° Insta Hotel é‚®ä»¶ (yhl5258@naver.com) å³è¡¨ç¤ºé¢„è®¢å·²ç¡®è®¤ã€‚<br>* å…¥ä½æ—¶å°†è¿›è¡Œæœ¬äººèº«ä»½éªŒè¯ã€‚",
                label_checked: "å·²ç¡®è®¤ã€‚",
                
                sect_refund: "å–æ¶ˆ/é€€æ¬¾è§„å®š",
                th_8days: "å…¥ä½8å¤©å‰",
                td_free: "æ— å–æ¶ˆè´¹ç”¨",
                th_7days: "å…¥ä½7å¤©å‰ ~ å½“å¤©",
                td_no_refund: "ä¸å¯é€€æ¬¾",
                label_agree_refund: "åŒæ„ç›¸å…³è§„å®šã€‚",
                
                sect_total: "æœ€ç»ˆæ”¯ä»˜é‡‘é¢",
                label_room_price: "å®¢æˆ¿ä»·æ ¼",
                label_option: "é€‰é¡¹",
                label_total_price: "æ€»æ”¯ä»˜é‡‘é¢",
                label_option_list: "å·²é€‰æ‹©çš„é€‰é¡¹",
                
                sect_method: "æ”¯ä»˜æ–¹å¼",
                label_credit_card: "ä¿¡ç”¨å¡",
                
                label_all_agree: "å…¨éƒ¨åŒæ„",
                label_privacy: "åŒæ„æ”¶é›†å’Œä½¿ç”¨ä¸ªäººä¿¡æ¯",
                btn_view_terms: "æŸ¥çœ‹æ¡æ¬¾",
                label_condition: "ç¡®è®¤è®¢å•å¹¶åŒæ„æ”¯ä»˜",
                btn_pay: "æ”¯ä»˜",
                
                company: "Insta Hotelæœ‰é™å…¬å¸", 
                ceo: "ä»£è¡¨ï¼šææ°¸ç„•", 
                biz: "æ³¨å†Œå·ï¼š2023-æ°´åŸçµé€š-1696", 
                addr: "æ°´åŸå¸‚çµé€šåŒºçµé€šè·¯94-6"
            }
        };

        let currentLang = 'ko';
        const headerSelect = document.getElementById("header-lang-select");
        const drawerSelect = document.getElementById("drawer-lang-select");
        const currentFlagIcon = document.getElementById("current-flag-icon");

        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // [ìˆ˜ì •ë¨] ì´ëª¨ì§€ ëŒ€ì‹  ì´ë¯¸ì§€ ì†ŒìŠ¤ ë³€ê²½
            if(currentFlagIcon && t.img) {
                currentFlagIcon.src = t.img;
            }

            // í—¤ë” ë° ë“œë¡œì–´ ì…€ë ‰íŠ¸ ë°•ìŠ¤ ë™ê¸°í™”
            if(headerSelect) headerSelect.value = lang;
            if(drawerSelect) drawerSelect.value = lang;

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) {
                    el.innerHTML = t[key];
                }
            });

            document.getElementById('input-name').placeholder = t.ph_name;
            document.getElementById('input-phone').placeholder = t.ph_phone;
            document.getElementById('input-email').placeholder = t.ph_email;
            document.getElementById('input-request').placeholder = t.ph_request;

            document.getElementById("companyName").innerText = t.company;
            document.getElementById("ceoName").innerText = t.ceo;
            document.getElementById("bizNumber").innerText = t.biz;
            document.getElementById("address").innerText = t.addr;

            renderPriceInfo();
        }

        function renderPriceInfo() {
            const params = new URLSearchParams(window.location.search);
            const t = translations[currentLang];
            
            const checkin = params.get('checkin') || "";
            const checkout = params.get('checkout') || "";
            const nights = params.get('nights') || '0';
            const roomPrice = parseInt(params.get('roomPrice')) || 0;
            const optionPrice = parseInt(params.get('optionPrice')) || 0;
            const total = parseInt(params.get('total')) || 0;

            const unit = t.unit_won;
            const fmt = (n) => n.toLocaleString() + unit;

            if(checkin && checkout) {
                document.getElementById('display-date-range').innerText = `${checkin} ~ ${checkout}`;
            } else {
                document.getElementById('display-date-range').innerText = t.text_date_unselected;
            }
            document.getElementById('display-nights').innerText = nights + t.unit_night;
            
            document.getElementById('display-room-price-info').innerText = fmt(roomPrice);
            document.getElementById('summary-room-price').innerText = fmt(roomPrice);
            document.getElementById('summary-option-price').innerText = fmt(optionPrice);
            document.getElementById('summary-total-price').innerText = fmt(total);

            // ì˜µì…˜ ìƒì„¸ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
            const optionContainer = document.getElementById('option-detail-list');
            const optionDetailsRaw = params.get('optionDetails');
            let optionDetails = [];

            if (optionDetailsRaw) {
                try {
                    optionDetails = JSON.parse(decodeURIComponent(optionDetailsRaw));
                } catch (e) {
                    console.error("ì˜µì…˜ íŒŒì‹± ì—ëŸ¬", e);
                }
            }

            if (optionDetails.length > 0) {
                optionContainer.style.display = 'block';
                const listHtml = optionDetails.map(item => `<li>${item}</li>`).join('');
                optionContainer.innerHTML = `
                    <div style="font-weight:bold; margin-bottom:5px;">${t.label_option_list}:</div>
                    <ul>${listHtml}</ul>
                `;
            } else {
                optionContainer.style.display = 'none';
                optionContainer.innerHTML = '';
            }
        }

        window.onload = function() {
            renderPriceInfo();

            // í—¤ë” íˆ¬ëª… ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì´ë²¤íŠ¸
            if(headerSelect) {
                headerSelect.addEventListener("change", (e) => {
                    updateLanguage(e.target.value);
                });
            }
            // ë“œë¡œì–´ ë©”ë‰´ ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì´ë²¤íŠ¸
            if(drawerSelect) {
                drawerSelect.addEventListener("change", (e) => {
                    updateLanguage(e.target.value);
                });
            }
        };

        const chkAll = document.getElementById('chk-all');
        const subChks = document.querySelectorAll('.chk-sub');

        chkAll.addEventListener('change', function() {
            subChks.forEach(chk => chk.checked = this.checked);
        });

        subChks.forEach(chk => {
            chk.addEventListener('change', function() {
                const allChecked = Array.from(subChks).every(c => c.checked);
                chkAll.checked = allChecked;
            });
        });

        const modal = document.getElementById("termsModal");

        function openModal() {
            modal.style.display = "flex"; 
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // [ìˆ˜ì •ë¨] ì‹¤ì œ ê²°ì œ ë° ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ í•¨ìˆ˜
        async function requestPayment() {
            const t = translations[currentLang];

            // 1. ë™ì˜ ì²´í¬ í™•ì¸
            const isInfoChecked = document.getElementById('chk-info').checked;
            const isRefundChecked = document.getElementById('chk-refund').checked;
            const isTermsChecked = document.getElementById('chk-all').checked;

            if (!isInfoChecked || !isRefundChecked || !isTermsChecked) {
                alert(t.alert_agree);
                return;
            }

            // 2. í¼ ë°ì´í„° ìˆ˜ì§‘
            const name = document.getElementById('input-name').value.trim();
            const phone = document.getElementById('input-phone').value.trim();
            const email = document.getElementById('input-email').value.trim();
            const instagram = document.getElementById('input-instagram').value.trim();
            const tiktok = document.getElementById('input-tiktok').value.trim();
            const request = document.getElementById('input-request').value.trim();

            // 3. í•„ìˆ˜ ì…ë ¥ê°’ ê²€ì¦
            if (!name || !phone || !email) {
                alert(t.alert_fill_info);
                return;
            }

            // 4. URL íŒŒë¼ë¯¸í„°ì—ì„œ ì˜ˆì•½ ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const params = new URLSearchParams(window.location.search);
            const checkin = params.get('checkin');
            const checkout = params.get('checkout');
            const roomPrice = params.get('roomPrice') ? parseInt(params.get('roomPrice')) : 0;
            const total = params.get('total') ? parseInt(params.get('total')) : 0;
            
            // ì˜µì…˜ ì •ë³´ JSON ë³€í™˜
            let selectedOptions = [];
            try {
                const rawOptions = params.get('optionDetails');
                if (rawOptions) {
                    selectedOptions = JSON.parse(decodeURIComponent(rawOptions));
                }
            } catch (e) {
                console.error("ì˜µì…˜ íŒŒì‹± ì˜¤ë¥˜", e);
            }

            // [UX] ì²˜ë¦¬ ì¤‘ ìƒíƒœ í‘œì‹œ
            const submitBtn = document.querySelector('.btn-submit');
            const originalBtnText = submitBtn.innerText;
            submitBtn.innerText = "Processing...";
            submitBtn.disabled = true;

            try {
                // 5. Supabase bookings í…Œì´ë¸”ì— ë°ì´í„° ì‚½ì…
                const { data, error } = await window.supabaseClient
                    .from('bookings')
                    .insert([
                        {
                            room_id: 3,                 // [ìš”ì²­ì‚¬í•­] í”„ë¦¬ë¯¸ì—„ ID = 3 ê³ ì •
                            guest_name: name,
                            phone: phone,
                            guest_email: email,
                            social_insta: instagram,
                            social_tiktok: tiktok,
                            guest_request: request,
                            check_in: checkin,          // YYYY-MM-DD í˜•ì‹ ê¶Œì¥
                            check_out: checkout,
                            room_price: roomPrice,
                            total_price: total,
                            selected_options: selectedOptions, // jsonb ë°°ì—´ ì €ì¥
                            status: 'ê²°ì œì™„ë£Œ'            // ì´ˆê¸° ìƒíƒœ
                        }
                    ])
                    .select();

                if (error) {
                    throw error;
                }

                // 6. ì„±ê³µ ì²˜ë¦¬
                alert("ì˜ˆì•½ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
                window.location.href = 'index.html'; 

            } catch (err) {
                console.error('Booking Error:', err);
                alert("ì˜ˆì•½ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n" + err.message);
                
                // ë²„íŠ¼ ë³µêµ¬
                submitBtn.innerText = originalBtnText;
                submitBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
