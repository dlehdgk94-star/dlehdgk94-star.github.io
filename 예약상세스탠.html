<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜¸í…” ì¸ìŠ¤íƒ€ - ê°ì‹¤ ì˜ˆì•½</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì •] */
        body { margin: 0; padding: 0; font-family: 'Noto Sans KR', sans-serif; color: #333; background-color: #fcfcfc; }
        
        /* ìƒë‹¨ í—¤ë” (ì£¼í™©ìƒ‰) */
        header { background-color: #ff5a00; color: white; padding: 20px 40px; display: flex; align-items: center; justify-content: space-between; }
        header .logo { font-weight: 900; font-size: 24px; letter-spacing: -1px; }
        header nav a { color: white; text-decoration: none; margin-left: 20px; font-size: 14px; font-weight: 500; }

        /* ë©”ì¸ ë ˆì´ì•„ì›ƒ (2ë‹¨ êµ¬ì„±) */
        .container { max-width: 1200px; margin: 40px auto; display: flex; gap: 50px; padding: 0 20px; align-items: flex-start; }
        
        /* ì™¼ìª½: ì´ë¯¸ì§€ ë° ìƒì„¸ì„¤ëª… */
        .left-column { flex: 1.5; }
        .main-image { width: 100%; height: 500px; background-color: #ddd; background-image: url('https://images.unsplash.com/photo-1560185007-cde436f6a4d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'); background-size: cover; background-position: center; border-radius: 4px; margin-bottom: 10px; }
        .thumbnails { display: flex; gap: 10px; margin-bottom: 40px; }
        .thumb { width: 80px; height: 60px; background-color: #eee; border-radius: 2px; cursor: pointer; background-size: cover; background-position: center; }
        
        .description-header { font-size: 14px; font-weight: bold; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; display: inline-block; }
        .description-text { font-size: 14px; line-height: 1.8; color: #555; }

        /* ì˜¤ë¥¸ìª½: ì˜ˆì•½ íŒ¨ë„ (ìŠ¤í¬ë¡¤ ì‹œ ê³ ì •) */
        .right-column { flex: 1; position: sticky; top: 20px; background: #fff; padding: 0; }
        
        .room-title { font-size: 24px; font-weight: 700; margin-bottom: 30px; }

        /* [ìˆ˜ì •ë¨] ì»¤ìŠ¤í…€ ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
        .calendar-wrapper { border: 1px solid #eee; padding: 20px; border-radius: 4px; margin-bottom: 20px; background: #fff; user-select: none; }
        .calendar-header { display: flex; justify-content: center; align-items: center; margin-bottom: 20px; font-size: 16px; font-weight: 700; }
        .calendar-header button { background: none; border: none; font-size: 18px; cursor: pointer; padding: 0 15px; color: #888; }
        .calendar-header button:hover { color: #333; }
        
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 13px; gap: 5px; }
        .weekday { font-weight: bold; color: #888; margin-bottom: 10px; font-size: 12px; }
        .day { padding: 10px 0; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        .day:hover:not(.disabled) { background-color: #f5f5f5; }
        
        /* ë‚ ì§œ ìƒíƒœë³„ ìŠ¤íƒ€ì¼ */
        .day.disabled { color: #e0e0e0; cursor: default; pointer-events: none; } /* ì§€ë‚œ ë‚ ì§œ ì—°í•œìƒ‰ */
        .day.selected { background-color: #ff5a00; color: white; font-weight: bold; } /* ì„ íƒëœ ë‚ ì§œ */
        .day.in-range { background-color: #fff0e6; color: #ff5a00; } /* ê¸°ê°„ ì‚¬ì´ */

        .selected-info { font-size: 13px; color: #666; margin-bottom: 15px; text-align: center; }

        .price-summary { display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #ff5a00; font-weight: bold; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 20px; }

        /* ì˜µì…˜ ìƒí’ˆ ì˜ì—­ */
        .option-item { display: flex; gap: 15px; padding: 20px 0; border-bottom: 1px solid #eee; }
        .option-img { width: 60px; height: 60px; background-color: #eee; border-radius: 4px; background-size: cover; background-position: center; }
        .option-details h4 { margin: 0 0 5px 0; font-size: 14px; }
        .option-details p { margin: 0; font-size: 12px; color: #888; line-height: 1.4; }
        .option-price { margin-top: 10px; font-size: 13px; font-weight: bold; }
        .option-check { margin-left: auto; }

        /* ì´ í•©ê³„ ë° ë²„íŠ¼ */
        .total-section { margin-top: 30px; display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; }
        .total-label { font-size: 14px; font-weight: bold; }
        .total-amount { font-size: 24px; font-weight: 700; color: #ff5a00; }

        .action-buttons { display: flex; gap: 10px; }
        .btn-reserve { flex: 1; background-color: #ff5a00; color: white; border: none; padding: 15px; font-size: 16px; font-weight: bold; cursor: pointer; border-radius: 2px; }
        .btn-icon { width: 50px; border: 1px solid #ddd; background: white; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; color: #888; }
        .btn-reserve:hover { background-color: #e04e00; }

    </style>
</head>
<body>

    <header>
        <div class="logo">glue</div>
        <nav>
            <a href="#">about</a>
            <a href="#">rooms</a>
            <a href="#">reservation</a>
            <a href="#">bluerain lounge</a>
            <a href="#">contact</a>
        </nav>
    </header>

    <div class="container">
        <div class="left-column">
            <div class="main-image"></div>
            <div class="thumbnails">
                <div class="thumb" style="background-image: url('https://images.unsplash.com/photo-1618773928121-c32242e63f39?auto=format&fit=crop&w=200&q=80')"></div>
                <div class="thumb" style="background-image: url('https://images.unsplash.com/photo-1590490360182-c33d57733427?auto=format&fit=crop&w=200&q=80')"></div>
                <div class="thumb" style="background-image: url('https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?auto=format&fit=crop&w=200&q=80')"></div>
            </div>

            <div class="description-header">ìƒì„¸ì •ë³´</div>
            <div class="description-text">
                <p>[ìŠ¤íƒ ë‹¤ë“œ ë”ë¸”]<br>
                glue hotelì€ í™ì§€ë¡œë¼ ë¶ˆë¦¬ëŠ” ì„ì§€ë¡œì˜ ë§¤ë ¥ì„ í•œëˆˆì— ë‹´ì„ ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>
                ë‚´ë¶€ ê³µê°„ì€ ì‘ê°€ì™€ ì½œë¼ë³´í•˜ì—¬ ê°ê°ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ìì•„ëƒ…ë‹ˆë‹¤.</p>
                <p>í° ì°½ ë„ˆë¨¸ë¡œ ë³´ì´ëŠ” ë‹¤ì–‘í•œ ì„œìš¸ì˜ í’ê²½ì„ ìµœëŒ€í•œ ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡<br>
                ê°ì‹¤ ë°°ì¹˜ë¥¼ ëª¨ë‘ ë‹¤ë¥´ê²Œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>
                <p>íˆ¬ìˆ™ê°ì—ê²ŒëŠ” ë¸”ë£¨ë ˆì¸ ë¼ìš´ì§€ ì´ìš©ê¶Œì´ ì œê³µë©ë‹ˆë‹¤.</p>
            </div>
        </div>

        <div class="right-column">
            <h2 class="room-title">ìŠ¤íƒ ë‹¤ë“œ ë”ë¸”</h2>

            <div class="calendar-wrapper">
                <div class="calendar-header">
                    <button onclick="changeMonth(-1)">â€¹</button>
                    <span id="current-month">2025ë…„ 11ì›”</span>
                    <button onclick="changeMonth(1)">â€º</button>
                </div>
                <div class="calendar-grid" id="calendar-body">
                    </div>
            </div>
            
            <div class="selected-info">
                ì²´í¬ì¸: <span id="display-checkin" style="font-weight:bold; color:#ff5a00;">-</span> 
                / ì²´í¬ì•„ì›ƒ: <span id="display-checkout" style="font-weight:bold; color:#ff5a00;">-</span>
            </div>

            <input type="hidden" id="checkin">
            <input type="hidden" id="checkout">

            <div class="price-summary">
                <span id="date-range-text">ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</span>
                <span><span id="nights">0</span>ë°• <span id="total">0</span>ì›</span>
            </div>

            <div class="option-item">
                <div class="option-details">
                    <h4>ì‹œê·¸ë‹ˆì²˜ ì¹µí…Œì¼ 2ì” + ë””ì €íŠ¸ 1ì¢… (10% í• ì¸)</h4>
                    <p>í˜¸í…” ë£¨í”„íƒ‘ ë¼ìš´ì§€ì—ì„œ ì¦ê¸°ëŠ” ì¹µí…Œì¼ ì„¸íŠ¸ì…ë‹ˆë‹¤.</p>
                    <div class="option-price">35,000ì›</div>
                </div>
                <div class="option-check">
                    <input type="checkbox" id="opt1" value="35000" onchange="calculateTotalWrapper()">
                </div>
            </div>

            <div class="option-item">
                <div class="option-details">
                    <h4>ì˜ë  ì• í”„í„°ëˆˆí‹° (2ì¸, ìŒë£Œí¬í•¨) 12% í• ì¸</h4>
                    <p>ì²´í¬ì¸ í›„ ë¼ìš´ì§€ì—ì„œ ì—¬ìœ ë¡œìš´ ì˜¤í›„ë¥¼ ì¦ê²¨ë³´ì„¸ìš”.</p>
                    <div class="option-price">37,000ì›</div>
                </div>
                <div class="option-check">
                    <input type="checkbox" id="opt2" value="37000" onchange="calculateTotalWrapper()">
                </div>
            </div>

            <div class="total-section">
                <span class="total-label">ì´ í•©ê³„</span>
                <span class="total-amount"><span id="grand-total">0</span>ì›</span>
            </div>

            <div class="action-buttons">
                <button class="btn-reserve" onclick="alert('ì˜ˆì•½ í˜ì´ì§€ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤!')">ì˜ˆì•½í•˜ê¸°</button>
                <button class="btn-icon">â™¡</button>
                <button class="btn-icon">ğŸ”—</button>
            </div>
        </div>
    </div>

    <script>
        // ----------------------------------------------------
        // [1] ë‹¬ë ¥ ë¡œì§ (UI ìƒì„± ë° í´ë¦­ ì´ë²¤íŠ¸)
        // ----------------------------------------------------
        let currentYear = new Date().getFullYear();
        let currentMonth = new Date().getMonth(); // 0 = 1ì›”
        
        let selectedStartDate = null;
        let selectedEndDate = null;

        const today = new Date();
        today.setHours(0, 0, 0, 0); // ì‹œê°„ ì´ˆê¸°í™” (ë‚ ì§œ ë¹„êµìš©)

        function renderCalendar(year, month) {
            const calendarBody = document.getElementById('calendar-body');
            const monthTitle = document.getElementById('current-month');
            
            // ì›” í‘œì‹œ ì—…ë°ì´íŠ¸
            monthTitle.innerText = `${year}ë…„ ${month + 1}ì›”`;
            calendarBody.innerHTML = "";

            // ìš”ì¼ í—¤ë” ìƒì„±
            const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            weekdays.forEach(day => {
                const div = document.createElement('div');
                div.className = 'weekday';
                div.innerText = day;
                calendarBody.appendChild(div);
            });

            // í•´ë‹¹ ì›”ì˜ ì²« ë‚ ì§œì™€ ë§ˆì§€ë§‰ ë‚ ì§œ êµ¬í•˜ê¸°
            const firstDay = new Date(year, month, 1).getDay();
            const lastDate = new Date(year, month + 1, 0).getDate();

            // ì²« ë‚ ì§œ ì•ì˜ ë¹ˆ ì¹¸ ì±„ìš°ê¸°
            for (let i = 0; i < firstDay; i++) {
                const div = document.createElement('div');
                calendarBody.appendChild(div);
            }

            // ë‚ ì§œ ìƒì„±
            for (let i = 1; i <= lastDate; i++) {
                const dateDiv = document.createElement('div');
                dateDiv.className = 'day';
                dateDiv.innerText = i;
                
                const thisDate = new Date(year, month, i);

                // 1. ì§€ë‚œ ë‚ ì§œ ë¹„í™œì„±í™” (ì˜¤ëŠ˜ ì´ì „ì´ë©´ disabled)
                if (thisDate < today) {
                    dateDiv.classList.add('disabled');
                } else {
                    // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                    dateDiv.onclick = () => selectDate(thisDate);
                }

                // 2. ì„ íƒëœ ë‚ ì§œ ë° ë²”ìœ„ ìŠ¤íƒ€ì¼ ì ìš©
                if (selectedStartDate && thisDate.getTime() === selectedStartDate.getTime()) {
                    dateDiv.classList.add('selected');
                }
                if (selectedEndDate && thisDate.getTime() === selectedEndDate.getTime()) {
                    dateDiv.classList.add('selected');
                }
                if (selectedStartDate && selectedEndDate && thisDate > selectedStartDate && thisDate < selectedEndDate) {
                    dateDiv.classList.add('in-range');
                }

                calendarBody.appendChild(dateDiv);
            }
        }

        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar(currentYear, currentMonth);
        }

        function selectDate(date) {
            // ë¡œì§: 
            // 1. ì•„ë¬´ê²ƒë„ ì„ íƒ ì•ˆ ë¨ -> ì‹œì‘ì¼ ì„¤ì •
            // 2. ì‹œì‘ì¼ë§Œ ì„ íƒë¨ -> ì¢…ë£Œì¼ ì„¤ì • (ë‹¨, ì‹œì‘ì¼ë³´ë‹¤ ì´ì „ì´ë©´ ì‹œì‘ì¼ ë³€ê²½)
            // 3. ë‘˜ ë‹¤ ì„ íƒë¨ -> ì´ˆê¸°í™” í›„ ì‹œì‘ì¼ ì„¤ì •

            if (!selectedStartDate || (selectedStartDate && selectedEndDate)) {
                selectedStartDate = date;
                selectedEndDate = null;
            } else if (selectedStartDate && !selectedEndDate) {
                if (date < selectedStartDate) {
                    selectedStartDate = date;
                } else if (date.getTime() === selectedStartDate.getTime()) {
                    // ê°™ì€ ë‚  í´ë¦­ ì‹œ ë¬´ì‹œ í˜¹ì€ í•´ì œ (ì—¬ê¸°ì„  ìœ ì§€)
                } else {
                    selectedEndDate = date;
                }
            }

            // í™”ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸° (ìŠ¤íƒ€ì¼ ì ìš©)
            renderCalendar(currentYear, currentMonth);

            // ê°’ ì—…ë°ì´íŠ¸ ë° ê°€ê²© ê³„ì‚°
            updateInputValues();
        }

        function updateInputValues() {
            const checkinInput = document.getElementById('checkin');
            const checkoutInput = document.getElementById('checkout');
            const displayCheckin = document.getElementById('display-checkin');
            const displayCheckout = document.getElementById('display-checkout');

            if (selectedStartDate) {
                // YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                checkinInput.value = toDateString(selectedStartDate);
                displayCheckin.innerText = toDateString(selectedStartDate);
            } else {
                checkinInput.value = "";
                displayCheckin.innerText = "-";
            }

            if (selectedEndDate) {
                checkoutInput.value = toDateString(selectedEndDate);
                displayCheckout.innerText = toDateString(selectedEndDate);
                
                // ë‘˜ ë‹¤ ì„ íƒë˜ì—ˆì„ ë•Œë§Œ ê°€ê²© ê³„ì‚° ì‹¤í–‰
                calculateTotalWrapper();
            } else {
                checkoutInput.value = "";
                displayCheckout.innerText = "-";
                
                // ì¢…ë£Œì¼ ì—†ìœ¼ë©´ ì´ˆê¸°í™”
                document.getElementById('nights').innerText = "0";
                document.getElementById('total').innerText = "0";
                document.getElementById('grand-total').innerText = "0";
                document.getElementById('date-range-text').innerText = "ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”";
            }
        }

        function toDateString(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // ì´ˆê¸° ë Œë”ë§
        renderCalendar(currentYear, currentMonth);


        // ----------------------------------------------------
        // [2] ê¸°ì¡´ ì‚¬ì¥ë‹˜ì˜ ê°€ê²© ê³„ì‚° ë¡œì§ (ìœ ì§€í•˜ë˜ ì…ë ¥ ë°©ì‹ë§Œ ì—°ë™)
        // ----------------------------------------------------
        function calculateTotal() {
            const checkinInput = document.getElementById('checkin').value;
            const checkoutInput = document.getElementById('checkout').value;
            
            if (!checkinInput || !checkoutInput) return 0;

            const startDate = new Date(checkinInput);
            const endDate = new Date(checkoutInput);

            let totalPrice = 0;
            let currentDate = new Date(startDate);
            let nightCount = 0;

            while (currentDate < endDate) {
                const dayOfWeek = currentDate.getDay(); // 0:ì¼ ~ 6:í† 
                
                if (dayOfWeek === 6) { 
                    totalPrice += 110000; // í† ìš”ì¼
                } else {
                    totalPrice += 85000;  // í‰ì¼
                }

                currentDate.setDate(currentDate.getDate() + 1);
                nightCount++;
            }

            document.getElementById('nights').innerText = nightCount;
            document.getElementById('total').innerText = totalPrice.toLocaleString();
            document.getElementById('date-range-text').innerText = `${checkinInput} ~ ${checkoutInput}`;

            return totalPrice;
        }

        function calculateTotalWrapper() {
            let roomPrice = calculateTotal();
            let optionPrice = 0;
            
            const opt1 = document.getElementById('opt1');
            const opt2 = document.getElementById('opt2');

            if (opt1.checked) optionPrice += parseInt(opt1.value);
            if (opt2.checked) optionPrice += parseInt(opt2.value);

            let grandTotal = roomPrice + optionPrice;
            document.getElementById('grand-total').innerText = grandTotal.toLocaleString();
        }
    </script>
</body>
</html>
