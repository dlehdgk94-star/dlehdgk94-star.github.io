<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation â€“ Insta Hotel - mainbranch</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼] */
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; font-family: 'Poppins', 'Noto Sans KR', sans-serif; color: #333; background-color: #fcfcfc; }
        
        /* ë ˆì´ì•„ì›ƒ */
        .reservation-container { max-width: 1200px; margin: 100px auto 40px; display: flex; gap: 50px; padding: 0 20px; align-items: flex-start; }
        @media (max-width: 768px) {
            .reservation-container { flex-direction: column; margin-top: 80px; }
            .left-column, .right-column { width: 100%; }
        }
        
        .left-column { flex: 1.5; }
        
        /* ì´ë¯¸ì§€ ì˜ì—­ */
        .main-image { 
            width: 100%; height: 500px; background-color: #ddd; 
            background-image: url('hero11.jpg'); background-size: cover; background-position: center; 
            border-radius: 4px; margin-bottom: 10px; transition: 0.3s;
        }

        .thumbnails { display: flex; gap: 10px; margin-bottom: 40px; overflow-x: auto; padding-bottom: 5px; }
        .thumb { 
            width: 100px; height: 70px; background-color: #eee; border-radius: 2px; cursor: pointer; 
            background-size: cover; background-position: center; flex-shrink: 0; 
            border: 2px solid transparent; transition: 0.2s;
        }
        .thumb:hover { border-color: #ff6900; opacity: 0.8; }
        
        .description-header { font-size: 14px; font-weight: bold; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; display: inline-block; }
        .description-text { font-size: 14px; line-height: 1.8; color: #555; }

        /* ì˜¤ë¥¸ìª½ íŒ¨ë„ */
        .right-column { flex: 1; position: sticky; top: 100px; background: #fff; padding: 0; }
        .room-title { font-size: 24px; font-weight: 700; margin-bottom: 30px; }

        /* ë‹¬ë ¥ ìŠ¤íƒ€ì¼ */
        .calendar-wrapper { border: 1px solid #eee; padding: 20px; border-radius: 4px; margin-bottom: 20px; background: #fff; user-select: none; }
        .calendar-header { display: flex; justify-content: center; align-items: center; margin-bottom: 20px; font-size: 16px; font-weight: 700; }
        .calendar-header button { background: none; border: none; font-size: 18px; cursor: pointer; padding: 0 15px; color: #888; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 13px; gap: 5px; }
        .weekday { font-weight: bold; color: #888; margin-bottom: 10px; font-size: 12px; }
        .day { padding: 10px 0; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        .day:hover:not(.disabled) { background-color: #f5f5f5; }
        .day.disabled { color: #e0e0e0; cursor: default; pointer-events: none; } 
        .day.selected { background-color: #ff6900; color: white; font-weight: bold; } 
        .day.in-range { background-color: #fff0e6; color: #ff6900; } 

        .selected-info { font-size: 13px; color: #666; margin-bottom: 15px; text-align: center; }
        .price-summary { display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #ff6900; font-weight: bold; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 20px; }

        /* [ìˆ˜ì •ë¨] ì˜µì…˜ ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
        .option-item { 
            padding: 20px 0; 
            border-bottom: 1px solid #eee; 
        }
        .option-details h4 { margin: 0 0 5px 0; font-size: 15px; font-weight: 600; color: #333; }
        .option-details p { margin: 0 0 10px 0; font-size: 13px; color: #888; line-height: 1.4; }
        .base-price { font-size: 14px; font-weight: bold; color: #333; margin-bottom: 10px; }

        /* ì„ íƒì°½(Select) ìŠ¤íƒ€ì¼ */
        .option-dropdown {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            color: #555;
            background-color: #fafafa;
            outline: none;
        }
        .option-dropdown:focus { border-color: #ff6900; }

        /* í•©ê³„ ë° ë²„íŠ¼ */
        .total-section { margin-top: 30px; display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; }
        .total-label { font-size: 14px; font-weight: bold; }
        .total-amount { font-size: 24px; font-weight: 700; color: #ff6900; }

        .action-container { display: flex; gap: 15px; margin-top: 20px; height: 56px; }
        .btn-reserve-final { flex: 1.2; background-color: #ff5a00; color: white; font-size: 18px; font-weight: 500; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .btn-reserve-final:hover { background-color: #e04e00; }
        
        .btn-group-right { flex: 1.5; display: flex; border: 1px solid #ddd; background-color: white; align-items: center; }
        .like-box { flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px; cursor: pointer; height: 100%; border-right: 1px solid #eee; font-size: 16px; font-weight: 500; }
        .like-box:hover { background-color: #f9f9f9; }
        .like-box svg { width: 22px; height: 22px; fill: none; stroke: #333; stroke-width: 1.5; }
        .like-box.liked svg { fill: #ff5a00; stroke: #ff5a00; } 
        .share-box { width: 60px; display: flex; align-items: center; justify-content: center; cursor: pointer; height: 100%; }
        .share-box:hover { background-color: #f9f9f9; }
        .share-box svg { width: 22px; height: 22px; stroke: #333; stroke-width: 1.5; }
    </style>
</head>
<body class="bg-white text-slate-900 font-sans">

    <header id="header" class="fixed top-0 left-0 right-0 z-30 text-white transition-colors duration-300 bg-[#ff6900] shadow-lg">
        <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between relative h-14">
            <button id="mobile-menu-btn" class="md:hidden text-white flex items-center focus:outline-none"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg></button>
            <a href="index.html" class="absolute left-1/2 transform -translate-x-1/2 md:static md:translate-x-0 md:flex items-center"><span class="text-2xl font-bold md:hidden">Insta hotel</span><span class="hidden md:block text-2xl font-semibold">Insta Hotel - mainbranch</span></a>
            <nav class="hidden md:flex gap-8 text-sm font-medium"><a href="about.html">about</a><a href="rooms.html">rooms</a><a href="reservation.html" class="underline underline-offset-4">reservation</a><a href="#lounge">bluerain lounge</a><a href="contact.html">contact</a></nav>
            <div class="flex items-center relative"><div class="flex items-center gap-1 cursor-pointer relative"><span id="current-flag-icon" class="text-2xl pt-1">ğŸ‡°ğŸ‡·</span><select id="header-lang-select" class="absolute inset-0 opacity-0 cursor-pointer"><option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option><option value="en">ğŸ‡ºğŸ‡¸ English</option><option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option><option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option></select></div></div>
        </div>
    </header>

    <div id="drawer-overlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden"></div>
    <nav id="mobile-drawer" class="fixed top-0 left-0 w-[75%] max-w-sm h-full z-50 bg-white shadow-xl text-slate-900 md:hidden transform -translate-x-full transition-transform duration-300"><div class="p-6"><button id="mobile-menu-close-btn" class="absolute top-4 right-4 text-3xl">&times;</button><div class="mt-2 mb-8"><span class="text-xl font-bold text-[#ff6900]">Insta hotel</span></div><ul class="flex flex-col space-y-4 text-lg font-medium"><li><a href="#">about</a></li><li><a href="#">rooms</a></li><li><a href="#" class="text-[#ff6900]">reservation</a></li></ul></div></nav>

    <main class="reservation-container">
       <div class="left-column">
            <div class="main-image" id="main-photo"></div>
            <div class="thumbnails">
                <div class="thumb" onclick="changeMainImage('hero11.jpg')" style="background-image: url('hero11.jpg')"></div>
                <div class="thumb" onclick="changeMainImage('ìŠ¤íƒ ë‹¤ë“œ1.png')" style="background-image: url('ìŠ¤íƒ ë‹¤ë“œ1.png')"></div>
                <div class="thumb" onclick="changeMainImage('ìŠ¤íƒ ë‹¤ë“œ2.png')" style="background-image: url('ìŠ¤íƒ ë‹¤ë“œ2.png')"></div>
                <div class="thumb" onclick="changeMainImage('ìŠ¤íƒ ë‹¤ë“œ3.jpg')" style="background-image: url('ìŠ¤íƒ ë‹¤ë“œ3.jpg')"></div>
                <div class="thumb" onclick="changeMainImage('ìŠ¤íƒ ë‹¤ë“œ4.jpg')" style="background-image: url('ìŠ¤íƒ ë‹¤ë“œ4.jpg')"></div>
            </div>

            <div class="description-header">ìƒì„¸ì •ë³´</div>
            <div class="description-text">
                <p>[ìŠ¤íƒ ë‹¤ë“œ]<br>insta hotelì€ í¸ì•ˆí•¨ê³¼ ê°ì„±ì„ í•œëˆˆì— ë‹´ì„ ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>ì€ì€í•œ ì¡°ëª…ê³¼ ë”°ëœ»í•œ ìš°ë“œ í†¤ì˜ ê°ì‹¤ì€ ì—¬í–‰ê³¼ ì¼ìƒ ì†ì—ì„œ ì ì‹œ ì‰¬ì–´ê°ˆ ìˆ˜ ìˆëŠ” í¸ì•ˆí•œ ë¶„ìœ„ê¸°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                <p>ê°ì‹¤ë§ˆë‹¤ ë‹¤ë¥¸ ê°ì„±ì˜ ê³µê°„ ì—°ì¶œë¡œ ê³ ìš”í•œ ë°¤ì˜ ë¶„ìœ„ê¸°ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ëŠë‚„ ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

        <div class="right-column">
            <h2 class="room-title">ìŠ¤íƒ ë‹¤ë“œ</h2>

            <div class="calendar-wrapper">
                <div class="calendar-header">
                    <button onclick="changeMonth(-1)">â€¹</button><span id="current-month">2025ë…„ 11ì›”</span><button onclick="changeMonth(1)">â€º</button>
                </div>
                <div class="calendar-grid" id="calendar-body"></div>
            </div>
            
            <div class="selected-info">
                ì²´í¬ì¸: <span id="display-checkin" style="font-weight:bold; color:#ff6900;">-</span> / ì²´í¬ì•„ì›ƒ: <span id="display-checkout" style="font-weight:bold; color:#ff6900;">-</span>
            </div>
            <input type="hidden" id="checkin"><input type="hidden" id="checkout">
            <div class="price-summary"><span id="date-range-text">ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</span><span><span id="nights">0</span>ë°• <span id="total">0</span>ì›</span></div>

            <div class="option-item">
                <div class="option-details">
                    <h4>ì‹œê·¸ë‹ˆì²˜ ì¹µí…Œì¼ 2ì” + ë””ì €íŠ¸ 1ì¢… (10% í• ì¸)</h4>
                    <p>í˜¸í…” ë£¨í”„íƒ‘ ë¼ìš´ì§€ì—ì„œ ì¦ê¸°ëŠ” ì¹µí…Œì¼ ì„¸íŠ¸ì…ë‹ˆë‹¤.</p>
                    <div class="base-price">35,000ì›</div>
                </div>
                <select class="option-dropdown" onchange="calculateTotalWrapper()">
                    <option value="0">ì„ íƒ ì•ˆí•¨</option>
                    <option value="35000">1ì„¸íŠ¸ (+35,000ì›)</option>
                    <option value="70000">2ì„¸íŠ¸ (+70,000ì›)</option>
                    <option value="105000">3ì„¸íŠ¸ (+105,000ì›)</option>
                </select>
            </div>

            <div class="option-item">
                <div class="option-details">
                    <h4>ì˜ë  ì• í”„í„°ëˆˆí‹° (2ì¸, ìŒë£Œí¬í•¨) 12% í• ì¸</h4>
                    <p>ì²´í¬ì¸ í›„ ë¼ìš´ì§€ì—ì„œ ì—¬ìœ ë¡œìš´ ì˜¤í›„ë¥¼ ì¦ê²¨ë³´ì„¸ìš”.</p>
                    <div class="base-price">37,000ì›</div>
                </div>
                <select class="option-dropdown" onchange="calculateTotalWrapper()">
                    <option value="0">ì„ íƒ ì•ˆí•¨</option>
                    <option value="37000">1ì„¸íŠ¸ (+37,000ì›)</option>
                    <option value="74000">2ì„¸íŠ¸ (+74,000ì›)</option>
                </select>
            </div>

            <div class="option-item">
                <div class="option-details">
                    <h4>ì™€ì¸ & ì¹˜ì¦ˆ í”Œë˜í„°</h4>
                    <p>ë¡œë§¨í‹±í•œ ë°¤ì„ ìœ„í•œ íŠ¹ë³„í•œ êµ¬ì„±</p>
                    <div class="base-price">50,000ì›</div>
                </div>
                <select class="option-dropdown" onchange="calculateTotalWrapper()">
                    <option value="0">ì„ íƒ ì•ˆí•¨</option>
                    <option value="50000">1ì„¸íŠ¸ (+50,000ì›)</option>
                </select>
            </div>
            
            <div class="total-section">
                <span class="total-label">ì´ í•©ê³„</span>
                <span class="total-amount"><span id="grand-total">0</span>ì›</span>
            </div>

            <div class="action-container">
                <button class="btn-reserve-final" onclick="alert('ì˜ˆì•½ í˜ì´ì§€ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤!')">ì˜ˆì•½í•˜ê¸°</button>
                <div class="btn-group-right">
                    <div class="like-box" id="like-btn">
                        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                        <span id="like-count">178</span>
                    </div>
                    <div class="share-box" onclick="alert('ë³µì‚¬ë¨!')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <section id="contact" class="pt-10 pb-12 bg-white border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 text-center text-xs text-slate-600 space-y-3">
             <div class="space-y-1"><p id="companyName">(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€</p><p>Tel 031-203-4301</p></div>
        </div>
    </section>

    <script>
        // --- ê¸°ëŠ¥ ë¡œì§ ---
        const likeBtn = document.getElementById('like-btn');
        const likeCountDisplay = document.getElementById('like-count');
        let likeCount = 178; 
        likeBtn.addEventListener('click', function() {
            likeCount++; likeCountDisplay.innerText = likeCount;
            this.classList.add('liked');
        });

        // í—¤ë” ë¡œì§ ìƒëµ (ê¸°ì¡´ê³¼ ë™ì¼)
        function changeMainImage(url) { document.getElementById('main-photo').style.backgroundImage = `url('${url}')`; }

        // --- ë‹¬ë ¥ ë¡œì§ ---
        let currentYear = new Date().getFullYear();
        let currentMonth = new Date().getMonth(); 
        let selectedStartDate = null;
        let selectedEndDate = null;
        const today = new Date(); today.setHours(0, 0, 0, 0);

        function renderCalendar(year, month) {
            const calendarBody = document.getElementById('calendar-body');
            document.getElementById('current-month').innerText = `${year}ë…„ ${month + 1}ì›”`;
            calendarBody.innerHTML = "";
            const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            weekdays.forEach(day => { const div = document.createElement('div'); div.className = 'weekday'; div.innerText = day; calendarBody.appendChild(div); });
            const firstDay = new Date(year, month, 1).getDay();
            const lastDate = new Date(year, month + 1, 0).getDate();
            for (let i = 0; i < firstDay; i++) { calendarBody.appendChild(document.createElement('div')); }
            for (let i = 1; i <= lastDate; i++) {
                const dateDiv = document.createElement('div'); dateDiv.className = 'day'; dateDiv.innerText = i;
                const thisDate = new Date(year, month, i);
                if (thisDate < today) dateDiv.classList.add('disabled');
                else dateDiv.onclick = () => selectDate(thisDate);
                if (selectedStartDate && thisDate.getTime() === selectedStartDate.getTime()) dateDiv.classList.add('selected');
                if (selectedEndDate && thisDate.getTime() === selectedEndDate.getTime()) dateDiv.classList.add('selected');
                if (selectedStartDate && selectedEndDate && thisDate > selectedStartDate && thisDate < selectedEndDate) dateDiv.classList.add('in-range');
                calendarBody.appendChild(dateDiv);
            }
        }
        function changeMonth(d) { currentMonth += d; if (currentMonth < 0) { currentMonth = 11; currentYear--; } else if (currentMonth > 11) { currentMonth = 0; currentYear++; } renderCalendar(currentYear, currentMonth); }
        function selectDate(date) {
            if (!selectedStartDate || (selectedStartDate && selectedEndDate)) { selectedStartDate = date; selectedEndDate = null; } 
            else if (selectedStartDate && !selectedEndDate) { if (date < selectedStartDate) selectedStartDate = date; else selectedEndDate = date; }
            renderCalendar(currentYear, currentMonth); updateInputValues();
        }
        function updateInputValues() {
            if (selectedStartDate) document.getElementById('display-checkin').innerText = toDateString(selectedStartDate);
            if (selectedEndDate) { document.getElementById('display-checkout').innerText = toDateString(selectedEndDate); calculateTotalWrapper(); }
            else { document.getElementById('display-checkout').innerText = "-"; document.getElementById('grand-total').innerText = "0"; }
            if (selectedStartDate) document.getElementById('checkin').value = toDateString(selectedStartDate);
            if (selectedEndDate) document.getElementById('checkout').value = toDateString(selectedEndDate);
        }
        function toDateString(d) { return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`; }
        renderCalendar(currentYear, currentMonth);

        function calculateTotal() {
            const s = document.getElementById('checkin').value; const e = document.getElementById('checkout').value;
            if (!s || !e) return 0;
            const start = new Date(s); const end = new Date(e);
            let total = 0; let cur = new Date(start); let nights = 0;
            while (cur < end) { total += (cur.getDay() === 6 ? 110000 : 85000); cur.setDate(cur.getDate() + 1); nights++; }
            document.getElementById('nights').innerText = nights; document.getElementById('total').innerText = total.toLocaleString();
            return total;
        }

        // --- [ìˆ˜ì •ëœ] í•©ê³„ ê³„ì‚° ë¡œì§ ---
        function calculateTotalWrapper() {
            // 1. ê°ì‹¤ë£Œ ê³„ì‚°
            let roomPrice = calculateTotal();
            
            // 2. ëª¨ë“  ë“œë¡­ë‹¤ìš´(.option-dropdown)ì„ ì°¾ì•„ì„œ ê°’ì„ ë”í•¨
            let optionPrice = 0;
            const dropdowns = document.querySelectorAll('.option-dropdown');
            
            dropdowns.forEach(dropdown => {
                // ì„ íƒëœ optionì˜ valueê°’(ê°€ê²©)ì„ ìˆ«ìë¡œ ë°”ê¿”ì„œ ë”í•˜ê¸°
                optionPrice += parseInt(dropdown.value) || 0;
            });

            // 3. ìµœì¢… í‘œì‹œ
            let grandTotal = roomPrice + optionPrice;
            document.getElementById('grand-total').innerText = grandTotal.toLocaleString();
        }
    </script>
</body>
</html>
