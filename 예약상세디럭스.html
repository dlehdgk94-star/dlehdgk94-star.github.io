<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation â€“ Insta Hotel - Deluxe</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì •] */
        html { scroll-behavior: smooth; }
        body { margin: 0; padding: 0; font-family: 'Poppins', 'Noto Sans KR', sans-serif; color: #333; background-color: #fcfcfc; }
        
        /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
        .reservation-container { max-width: 1200px; margin: 100px auto 40px; display: flex; gap: 50px; padding: 0 20px; align-items: flex-start; }
        
        /* ë¯¸ë””ì–´ ì¿¼ë¦¬: ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .reservation-container { flex-direction: column; margin-top: 80px; }
            .left-column, .right-column { width: 100%; }
            .main-image { height: 300px !important; }
        }
        
        .left-column { flex: 1.5; }
        
        /* ë©”ì¸ ì´ë¯¸ì§€ ì˜ì—­ */
        .main-image { 
            width: 100%; 
            height: 500px; 
            background-color: #ddd; 
            background-image: url('hero12.jpg'); 
            background-size: cover; 
            background-position: center; 
            border-radius: 4px; 
            margin-bottom: 10px; 
            transition: background-image 0.3s ease-in-out;
        }

        /* ì¸ë„¤ì¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .thumbnail-wrapper { position: relative; margin-bottom: 40px; }
        .thumbnail-wrapper::after {
            content: '';
            position: absolute; top: 25px; right: 0; bottom: 5px; width: 40px; 
            background: linear-gradient(to right, transparent, #fcfcfc); 
            pointer-events: none; z-index: 10;
        }

        .scroll-hint {
            font-size: 11px; color: #ff6900; font-weight: bold; margin-bottom: 5px;
            text-align: right; padding-right: 5px; display: none; animation: blink 2s infinite;
        }
        @media (max-width: 768px) { .scroll-hint { display: block; } }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        .thumbnails { 
            display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; padding-right: 30px; 
            -ms-overflow-style: none; scrollbar-width: none;
        }
        .thumbnails::-webkit-scrollbar { display: none; }

        .thumb { 
            width: 100px; height: 70px; background-color: #eee; border-radius: 4px; 
            cursor: pointer; background-size: cover; background-position: center; flex-shrink: 0; 
            border: 2px solid transparent; transition: 0.2s;
        }
        .thumb:hover { border-color: #ff6900; opacity: 1; }
        
        .description-header { font-size: 14px; font-weight: bold; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; display: inline-block; }
        .description-text { font-size: 14px; line-height: 1.8; color: #555; }

        /* ì˜¤ë¥¸ìª½: ì˜ˆì•½ íŒ¨ë„ */
        .right-column { flex: 1; position: sticky; top: 100px; background: #fff; padding: 0; }
        .room-title { font-size: 24px; font-weight: 700; margin-bottom: 30px; }

        /* ì»¤ìŠ¤í…€ ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
        .calendar-wrapper { border: 1px solid #eee; padding: 20px; border-radius: 4px; margin-bottom: 20px; background: #fff; user-select: none; }
        .calendar-header { display: flex; justify-content: center; align-items: center; margin-bottom: 20px; font-size: 16px; font-weight: 700; }
        .calendar-header button { background: none; border: none; font-size: 18px; cursor: pointer; padding: 0 15px; color: #888; }
        .calendar-header button:hover { color: #333; }
        
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 13px; gap: 5px; }
        .weekday { font-weight: bold; color: #888; margin-bottom: 10px; font-size: 12px; }
        .day { padding: 10px 0; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        .day:hover:not(.disabled) { background-color: #f5f5f5; }
        .day.disabled { color: #e0e0e0; cursor: default; pointer-events: none; } 
        .day.selected { background-color: #ff6900; color: white; font-weight: bold; } 
        .day.in-range { background-color: #fff0e6; color: #ff6900; } 

        .selected-info { font-size: 13px; color: #666; margin-bottom: 15px; text-align: center; }
        .price-summary { display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #ff6900; font-weight: bold; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 20px; }

        /* ì˜µì…˜ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .option-select-box { margin-bottom: 30px; border: 1px solid #ddd; border-radius: 6px; background-color: #fff; overflow: hidden; padding: 0; }
        .option-header { background-color: #f9f9f9; padding: 15px 20px; font-weight: bold; font-size: 15px; border-bottom: 1px solid #eee; color: #333; display: flex; justify-content: space-between; align-items: center; }
        .option-scroll-area { height: 300px; overflow-y: auto; padding: 15px 20px; }
        .option-scroll-area::-webkit-scrollbar { width: 6px; }
        .option-scroll-area::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 3px; }
        .option-scroll-area::-webkit-scrollbar-track { background-color: #f1f1f1; }

        .category-title { font-size: 13px; color: #ff6900; font-weight: bold; margin-top: 20px; margin-bottom: 8px; border-bottom: 1px dashed #ddd; padding-bottom: 5px; }
        .category-title:first-child { margin-top: 0; }

        .option-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; cursor: pointer; font-size: 14px; color: #555; transition: background 0.1s; border-bottom: 1px solid #f9f9f9; }
        .option-item:last-child { border-bottom: none; }
        .option-item:hover { background-color: #fafafa; }
        .option-left { display: flex; align-items: flex-start; } 
        .option-checkbox { width: 18px; height: 18px; accent-color: #ff6900; margin-right: 12px; cursor: pointer; margin-top: 3px; }
        .option-price-text { font-weight: 500; color: #333; white-space: nowrap; margin-left: 10px; }

        /* ì´ í•©ê³„ */
        .total-section { margin-top: 30px; display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; }
        .total-label { font-size: 14px; font-weight: bold; }
        .total-amount { font-size: 24px; font-weight: 700; color: #ff6900; }

        /* í•˜ë‹¨ ë²„íŠ¼ ê·¸ë£¹ ìŠ¤íƒ€ì¼ */
        .action-container { display: flex; gap: 15px; margin-top: 20px; height: 56px; }
        .btn-reserve-final { flex: 1.2; background-color: #ff5a00; color: white; font-size: 18px; font-weight: 500; border: none; cursor: pointer; transition: background-color 0.2s; display: flex; align-items: center; justify-content: center; }
        .btn-reserve-final:hover { background-color: #e04e00; }
        .btn-group-right { flex: 1.5; display: flex; border: 1px solid #ddd; background-color: white; align-items: center; }
        .like-box { flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px; cursor: pointer; height: 100%; border-right: 1px solid #eee; font-size: 16px; font-weight: 500; color: #333; }
        .like-box:hover { background-color: #f9f9f9; }
        .like-box svg { width: 22px; height: 22px; fill: none; stroke: #333; stroke-width: 1.5; transition: 0.2s; }
        .like-box.liked svg { fill: #ff5a00; stroke: #ff5a00; } 
        .share-box { width: 60px; display: flex; align-items: center; justify-content: center; cursor: pointer; height: 100%; }
        .share-box:hover { background-color: #f9f9f9; }
        .share-box svg { width: 22px; height: 22px; stroke: #333; stroke-width: 1.5; }

        /* --------------------------------------------------------
           [NEW] ìš°ì¸¡ í•˜ë‹¨ ì±„íŒ… ìœ„ì ¯ ìŠ¤íƒ€ì¼ (í”„ë¦¬ë¯¸ì—„ í˜ì´ì§€ ìŠ¤íƒ€ì¼ ì ìš©)
        -------------------------------------------------------- */
        .chat-widget-container {
            position: fixed;
            bottom: 25px;
            right: 20px;
            z-index: 9999; /* ì œì¼ ìœ„ì— ëœ¸ */
            font-family: 'Poppins', sans-serif;
        }

        .chat-main-btn {
            width: 50px;  
            height: 50px; 
            background-color: #ff6900; 
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .chat-widget-container.active .chat-main-btn {
            transform: rotate(45deg);
            background-color: #e65100; 
        }

        .chat-options {
            display: none; 
            flex-direction: column;
            gap: 10px;
            margin-bottom: 12px;
            align-items: flex-end;
        }

        .chat-widget-container.active .chat-options {
            display: flex;
            animation: fadeInUp 0.3s ease-in-out;
        }

        .chat-option-item {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
            padding: 8px 14px; 
            border-radius: 20px;
            font-weight: bold;
            font-size: 13px;
            box-shadow: 1px 1px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s;
            white-space: nowrap; 
        }

        .chat-option-item:hover { transform: scale(1.05); }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        const supabaseUrl = 'https://eyasihczaqsacenklhns.supabase.co'
        const supabaseKey = 'sb_publishable_KgiOOQUrWJzQTDCZnbhGcw_otKoMO27'
        
        window.supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey)
        
        console.log("í™ˆí˜ì´ì§€-ìŠˆíŒŒë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ!");
    </script>
</head>
<body class="bg-white text-slate-900 font-sans">

  <header id="header" class="fixed top-0 left-0 right-0 z-30 bg-[#ff6900] text-white shadow-md">
    <div class="w-full px-4 md:px-10 py-3 flex items-center justify-between h-14 relative">
      
      <button id="mobile-menu-btn" class="md:hidden text-white flex items-center focus:outline-none drop-shadow-md z-20">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-8 h-8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
      </button>

      <a href="index.html" class="absolute left-1/2 transform -translate-x-1/2 md:static md:translate-x-0 md:flex items-center drop-shadow-md z-20">
        <span class="text-2xl font-bold tracking-tight md:hidden">Insta hotel</span>
        <span class="hidden md:block text-2xl font-semibold tracking-tight">Insta Hotel - mainbranch</span>
      </a>

      <nav class="hidden md:flex items-center gap-5 whitespace-nowrap text-sm font-medium drop-shadow-md md:absolute md:left-1/2 md:-translate-x-1/2 z-10">
          <a href="about.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_about">about</a>
          <a href="rooms.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_rooms">rooms</a>
          <a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="hover:text-orange-200 transition-colors">breakfast(ì¡°ì‹)</a>
          <a href="reservation.html" class="hover:text-orange-200 transition-colors underline underline-offset-4" data-i18n="nav_reservation">reservation(ì˜ˆì•½)</a>
          <a href="instaspot.html" class="hover:text-orange-200 transition-colors">tour&food&cafe(ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a>
          <a href="#lounge" class="hover:text-orange-200 transition-colors" data-i18n="nav_lounge">bluerain lounge</a>
          <a href="contact.html" class="hover:text-orange-200 transition-colors" data-i18n="nav_contact">contact</a>
      </nav>

      <div class="flex items-center relative drop-shadow-md z-20">
         <div class="flex items-center gap-2 cursor-pointer relative group">
            <img id="current-flag-icon" src="kr.png" alt="Korea" class="w-8 h-5 object-cover rounded shadow-sm border border-white/30 transition-transform group-hover:scale-110">
            
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-white opacity-90">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
            </svg>

            <select id="header-lang-select" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer appearance-none text-slate-900">
                <option value="ko" class="text-slate-900">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                <option value="en" class="text-slate-900">ğŸ‡ºğŸ‡¸ English</option>
                <option value="ja" class="text-slate-900">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                <option value="zh" class="text-slate-900">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
            </select>
         </div>
      </div>

    </div>
  </header>

  <div id="drawer-overlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden transition-opacity duration-300"></div>
  
  <nav id="mobile-drawer" class="fixed top-0 left-0 w-[75%] max-w-sm h-full z-50 bg-white shadow-xl text-slate-900 md:hidden transform -translate-x-full transition-transform duration-300 ease-in-out">
    <div class="p-6">
      <button id="mobile-menu-close-btn" class="absolute top-4 right-4 text-3xl font-light hover:text-[#ff6900]">&times;</button>
      
      <div class="mt-2 mb-8">
        <span class="text-xl font-bold tracking-tight text-[#ff6900]">Insta hotel</span>
      </div>
      
      <ul class="flex flex-col space-y-4 text-lg font-medium">
        <li><a href="about.html" class="block hover:text-[#ff6900]" data-i18n="nav_about">about</a></li>
        
        <li>
            <div class="flex justify-between items-center cursor-pointer hover:text-[#ff6900]" id="rooms-toggle">
                <span data-i18n="nav_rooms">rooms</span> <span class="text-sm">â–¼</span>
            </div>
            <ul id="rooms-submenu" class="hidden mt-3 ml-4 space-y-3 border-l-2 border-slate-100 pl-4">
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Twin</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Special</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Luxury</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Premium</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Deluxe</a></li>
                <li><a href="rooms.html" class="block text-sm text-slate-600 hover:text-[#ff6900]">Standard</a></li>
                <li><a href="reservation.html" class="block text-sm text-slate-600 hover:text-[#ff6900] font-semibold">Long Stay</a></li>
            </ul>
        </li>

        <li><a href="ì¡°ì‹ë©”ë‰´íŒ.html" class="block hover:text-[#ff6900]">breakfast(ì¡°ì‹)</a></li>
        <li><a href="reservation.html" class="block hover:text-[#ff6900]" data-i18n="nav_reservation">reservation(ì˜ˆì•½)</a></li>
        <li><a href="instaspot.html" class="block hover:text-[#ff6900]">tour&food&cafe(ê´€ê´‘&ë§›ì§‘&ì¹´í˜)</a></li>
        <li><a href="#lounge" class="block hover:text-[#ff6900]" data-i18n="nav_lounge">bluerain lounge</a></li>
        <li><a href="contact.html" class="block hover:text-[#ff6900]" data-i18n="nav_contact">contact</a></li>
      </ul>

      <div class="mt-8 border-t pt-4">
          <p class="text-sm text-slate-400 mb-2">Language</p>
          <select id="drawer-lang-select" class="w-full p-2 border rounded text-slate-700 bg-slate-50 outline-none">
              <option value="ko">Korean</option>
              <option value="en">English</option>
              <option value="ja">Japanese</option>
              <option value="zh">Chinese</option>
          </select>
      </div>
    </div>
  </nav>


    <main class="reservation-container">
       <div class="left-column">
            <div class="main-image" id="main-photo" style="background-image: url('hero12.jpg');"></div>
            
            <div class="thumbnail-wrapper">
                <div class="scroll-hint" data-i18n="scroll_hint">
                    â† ì˜†ìœ¼ë¡œ ë°€ì–´ì„œ ë” ë³´ê¸°
                </div>
                <div class="thumbnails">
                    <div class="thumb" onclick="changeMainImage('hero12.jpg')" style="background-image: url('hero12.jpg')"></div>
                    <div class="thumb" onclick="changeMainImage('ë””ëŸ­ìŠ¤3.png')" style="background-image: url('ë””ëŸ­ìŠ¤3.png')"></div>
                    <div class="thumb" onclick="changeMainImage('ë””ëŸ­ìŠ¤2.png')" style="background-image: url('ë””ëŸ­ìŠ¤2.png')"></div>
                    <div class="thumb" onclick="changeMainImage('ë””ëŸ­ìŠ¤1.png')" style="background-image: url('ë””ëŸ­ìŠ¤1.png')"></div>
                    <div class="thumb" onclick="changeMainImage('ë””ëŸ­ìŠ¤4.png')" style="background-image: url('ë””ëŸ­ìŠ¤4.png')"></div>
                </div>
            </div>

            <div class="description-header" data-i18n="desc_header">ìƒì„¸ì •ë³´</div>
            <div class="description-text">
                <p data-i18n="desc_p1">[ë””ëŸ­ìŠ¤]<br>insta hotelì€ í¸ì•ˆí•¨ê³¼ ê°ì„±ì„ í•œëˆˆì— ë‹´ì„ ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>ì€ì€í•œ ì¡°ëª…ê³¼ ë”°ëœ»í•œ ìš°ë“œ í†¤ì˜ ê°ì‹¤ì€ ì—¬í–‰ê³¼ ì¼ìƒ ì†ì—ì„œ ì ì‹œ ì‰¬ì–´ê°ˆ ìˆ˜ ìˆëŠ” í¸ì•ˆí•œ ë¶„ìœ„ê¸°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                <p data-i18n="desc_p2">ê°ì‹¤ë§ˆë‹¤ ë‹¤ë¥¸ ê°ì„±ì˜ ê³µê°„ ì—°ì¶œë¡œ <br>ê³ ìš”í•œ ë°¤ì˜ ë¶„ìœ„ê¸°ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ëŠë‚„ ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>
                <p data-i18n="desc_p3">íˆ¬ìˆ™ê°ì—ê²ŒëŠ” í¸ì•ˆí•œ íœ´ì‹ì´ ë  ìˆ˜ ìˆë„ë¡ ëª¨ë“  ê°ì‹¤ì— Free wi-fi, í¸ë¦¬í•œ ì£¼ì°¨ ë“±ì´ ì œê³µë©ë‹ˆë‹¤.</p>
            </div>
       </div>

       <div class="right-column">
            <h2 class="room-title" data-i18n="room_title">ë””ëŸ­ìŠ¤</h2>

            <div class="calendar-wrapper">
                <div class="calendar-header">
                    <button onclick="changeMonth(-1)">â€¹</button>
                    <span id="current-month">2025ë…„ 11ì›”</span>
                    <button onclick="changeMonth(1)">â€º</button>
                </div>
                <div class="calendar-grid" id="calendar-body">
                </div>
            </div>
            
            <div class="selected-info">
                <span data-i18n="checkin_label">ì²´í¬ì¸</span>: <span id="display-checkin" style="font-weight:bold; color:#ff6900;">-</span> 
                / <span data-i18n="checkout_label">ì²´í¬ì•„ì›ƒ</span>: <span id="display-checkout" style="font-weight:bold; color:#ff6900;">-</span>
            </div>

            <input type="hidden" id="checkin">
            <input type="hidden" id="checkout">

            <div class="price-summary">
                <span id="date-range-text" data-i18n="msg_select_date">ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</span>
                <span>
                    <span id="nights">0</span><span data-i18n="label_nights">ë°•</span> 
                    <span class="currency-symbol" style="margin-left: 5px;"></span><span id="total">0</span><span class="currency-unit" data-i18n="label_won">ì›</span>
                </span>
            </div>

            <div class="option-select-box">
                <div class="option-header">
                    <span data-i18n="opt_header">ì¡°ì‹Â·ë£¸ì„œë¹„ìŠ¤</span>
                    <span style="font-size:12px; font-weight:normal; color:#888;" data-i18n="opt_sub">ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ì²´í¬í•´ì£¼ì„¸ìš”</span>
                </div>
                
                <div class="option-scroll-area">
                    
                  <div class="category-title" style="display: flex; align-items: center;">
    <img src="ìƒŒë“œìœ„ì¹˜ì•„ì´ì½˜.png" alt="icon" style="width: 18px; height: 18px; margin-right: 5px;">
    SANDWICH & BURGER
</div>
                    
                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="7300" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_A1">[A1] í–„ì¹˜ì¦ˆ í¬ë¼ìƒ ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Ham & Cheese Croissant Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+7,300<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8200" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_B2">[B2] ë¸Œë¼ìš´ í–„ì—ê·¸ ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Brown Ham & Egg Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+8,200<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8200" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_C3">[C3] í–„&ì¹˜ì¦ˆ ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Ham & Cheese Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+8,200<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8600" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_D4">[D4] ëŸ°ì¹˜ ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Lunch Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+8,600<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8200" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_E5">[E5] ì¹ ë¦¬í¬ë© ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Chili Crab Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+8,200<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8900" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_F6">[F6] Fresh í•œì…ì™ ë¯¸ë‹ˆë²„ê±°<br><span style="font-size:11px; color:#888;">Fresh Mini Burger</span></span>
                        </div>
                        <span class="option-price-text">+8,900<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>
                    
                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="8200" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_J10">[J10] ì—ê·¸ ìƒëŸ¬ë“œ ìƒŒë“œìœ„ì¹˜<br><span style="font-size:11px; color:#888;">Egg Salad Sandwich</span></span>
                        </div>
                        <span class="option-price-text">+8,200<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>


                    <div class="category-title">ğŸ¥— SALAD</div>
                    
                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="9300" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_G7">[G7] ë‹¨ë°±ì§ˆ ë“¬ë¿ ì¹˜í‚¨ ì—ê·¸ ìƒëŸ¬ë“œ<br><span style="font-size:11px; color:#888;">Protein-packed Chicken Egg Salad</span></span>
                        </div>
                        <span class="option-price-text">+9,300<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="9300" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_H8">[H8] í¬ë¦¬ìŠ¤í”¼ ì¹˜í‚¨ ìƒëŸ¬ë“œ<br><span style="font-size:11px; color:#888;">Crispy Chicken Salad</span></span>
                        </div>
                        <span class="option-price-text">+9,300<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="9600" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_I9">[I9] í¬ëœë² ë¦¬ ì¹˜í‚¨ ë¦¬ì½”íƒ€ ìƒëŸ¬ë“œ<br><span style="font-size:11px; color:#888;">Cranberry Chicken Ricotta Salad</span></span>
                        </div>
                        <span class="option-price-text">+9,600<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>


                    <div class="category-title" style="display: flex; align-items: center;">
    <img src="ì»¤í”¼ì•„ì´ì½˜.png" alt="icon" style="width: 18px; height: 18px; margin-right: 5px;">
    Beverage & Coffee
</div>
                    
                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="2000" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_K11">[K11] ìš°ìœ  (300ml)<br><span style="font-size:11px; color:#888;">Milk</span></span>
                        </div>
                        <span class="option-price-text">+2,000<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="2000" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_L12">[L12] ë°”ë‚˜ë‚˜ ìš°ìœ  (240ml)<br><span style="font-size:11px; color:#888;">Banana Milk</span></span>
                        </div>
                        <span class="option-price-text">+2,000<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="2400" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_M13">[M13] ì˜¤ë Œì§€ ì£¼ìŠ¤ (350ml)<br><span style="font-size:11px; color:#888;">Orange Juice</span></span>
                        </div>
                        <span class="option-price-text">+2,400<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>
                    
                    <label class="option-item">
                        <div class="option-left">
                            <input type="checkbox" class="option-checkbox" value="2500" onchange="calculateTotalWrapper()">
                            <span data-i18n="menu_N14">[N14] ì»¤í”¼ - ì•„ë©”ë¦¬ì¹´ë…¸<br><span style="font-size:11px; color:#888;">Coffee - Americano</span></span>
                        </div>
                        <span class="option-price-text">+2,500<span class="currency-unit" data-i18n="label_won">ì›</span></span>
                    </label>

                </div>
                </div>

            <div class="total-section">
                <span class="total-label" data-i18n="total_label">ì´ í•©ê³„</span>
                <span class="total-amount"><span class="currency-symbol"></span><span id="grand-total">0</span><span class="currency-unit" data-i18n="label_won">ì›</span></span>
            </div>

            <div class="action-container">
                <button class="btn-reserve-final" onclick="goToPayment()" id="btn-reserve-text" data-i18n="btn_reserve">
                    ì˜ˆì•½í•˜ê¸°
                </button>
                
                <div class="btn-group-right">
                    <div class="like-box" id="like-btn">
                        <svg id="heart-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                        <span id="like-count">178</span>
                    </div>

                    <div class="share-box" onclick="alert('ê³µìœ í•˜ê¸° ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                    </div>
                </div>
            </div>

       </div>
    </main>


    <section id="contact" class="pt-10 pb-12 bg-white border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 text-center text-xs text-slate-600 space-y-3">
          <div class="flex justify-center gap-4 text-lg"> 
              <a href="https://www.instagram.com/instahotelkorea" target="_blank">
                  <img src="icons8-ì¸ìŠ¤-íƒ€-ê·¸ë¨-48.png" alt="Instagram" width="24" height="24">
              </a>
              <a href="https://map.naver.com/p/entry/place/1630717211" target="_blank">
                  <img src="icons8-ë„¤ì´ë²„-64.png" alt="Naver" width="24" height="24">
              </a>
              <a href="http://pf.kakao.com/_xiITuG" target="_blank">
                  <img src="icons8-ì¹´ì¹´ì˜¤-í†¡-48.png" alt="KakaoTalk" width="24" height="24">
              </a>
              <a href="https://www.facebook.com/VIPdesign2020" target="_blank">
                  <img src="icons8-í˜ì´ìŠ¤-ë¶-48.png" alt="Facebook" width="24" height="24">
              </a>            
          </div>
  
          <div class="space-y-1">
            <p>insta hotel mainbranch, Korea</p>
            <p id="companyName">(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€</p>
            <p id="ceoName">ëŒ€í‘œì : ì´ì˜í™˜</p>
            <p id="bizNumber">í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸</p>
            <p id="address">ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6</p>
            <p>Business License 176-24-01388 | Tel 031-203-4301</p>
          </div>
  
          <div class="flex justify-center gap-4 pt-2">
            <a href="#" class="hover:underline" id="terms">ì´ìš©ì•½ê´€</a>
            <a href="#" class="hover:underline" id="privacy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
          </div>
        </div>
    </section>
  
    <div class="chat-widget-container" id="chatWidget">
        <div class="chat-options">
            
            <a href="https://www.instagram.com/instahotelkorea" target="_blank" class="chat-option-item" style="background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);">
                <span>Instagram DM</span>
            </a>
    
            <a href="https://wa.me/821042077372" target="_blank" class="chat-option-item" style="background-color: #25D366;">
                <span>WhatsApp (ENG)</span>
            </a>
    
            <a href="http://pf.kakao.com/_xiITuG" target="_blank" class="chat-option-item" style="background-color: #FEE500; color: #3c1e1e;">
                <span>KakaoTalk (KOR)</span>
            </a>
        </div>
        <div class="chat-main-btn" onclick="toggleChatWidget()">ğŸ’¬</div>
    </div>

    <script>
        // --- [NEW] ì±„íŒ… ìœ„ì ¯ í† ê¸€ ê¸°ëŠ¥ ---
        function toggleChatWidget() {
            var widget = document.getElementById('chatWidget');
            widget.classList.toggle('active');
            var btn = widget.querySelector('.chat-main-btn');
            if (widget.classList.contains('active')) {
                btn.innerHTML = 'âœ•'; 
            } else {
                btn.innerHTML = 'ğŸ’¬'; 
            }
        }

        // --- ì¢‹ì•„ìš” ë²„íŠ¼ ê¸°ëŠ¥ ---
        const likeBtn = document.getElementById('like-btn');
        const likeCountDisplay = document.getElementById('like-count');
        let likeCount = 178; 
        
        likeBtn.addEventListener('click', function() {
            likeCount++; 
            likeCountDisplay.innerText = likeCount;
            this.classList.add('liked');
        });

        // --- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ ---
        const header = document.getElementById("header");
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileDrawer = document.getElementById("mobile-drawer");
        const drawerOverlay = document.getElementById("drawer-overlay");
        const mobileCloseBtn = document.getElementById("mobile-menu-close-btn");
        const roomsToggle = document.getElementById("rooms-toggle");
        const roomsSubmenu = document.getElementById("rooms-submenu");

        function openMenu() {
            mobileDrawer.classList.remove("-translate-x-full");
            drawerOverlay.classList.remove("hidden");
            document.body.style.overflow = "hidden"; 
        }
        function closeMenu() {
            mobileDrawer.classList.add("-translate-x-full");
            drawerOverlay.classList.add("hidden");
            document.body.style.overflow = ""; 
        }

        if (mobileMenuBtn) mobileMenuBtn.addEventListener("click", openMenu);
        if (mobileCloseBtn) mobileCloseBtn.addEventListener("click", closeMenu);
        if (drawerOverlay) drawerOverlay.addEventListener("click", closeMenu);
        if(roomsToggle && roomsSubmenu){
            roomsToggle.addEventListener("click", () => {
                roomsSubmenu.classList.toggle("hidden");
            });
        }

        // --- ë‹¤êµ­ì–´ ë²ˆì—­ ë°ì´í„° (í™”í ë¡œì§ í¬í•¨) ---
        const translations = {
            ko: {
                flag: "kr.png",
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                scroll_hint: "â† ì˜†ìœ¼ë¡œ ë°€ì–´ì„œ ë” ë³´ê¸°",
                desc_header: "ìƒì„¸ì •ë³´",
                desc_p1: "[ë””ëŸ­ìŠ¤]<br>insta hotelì€ í¸ì•ˆí•¨ê³¼ ê°ì„±ì„ í•œëˆˆì— ë‹´ì„ ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>ì€ì€í•œ ì¡°ëª…ê³¼ ë”°ëœ»í•œ ìš°ë“œ í†¤ì˜ ê°ì‹¤ì€ ì—¬í–‰ê³¼ ì¼ìƒ ì†ì—ì„œ ì ì‹œ ì‰¬ì–´ê°ˆ ìˆ˜ ìˆëŠ” í¸ì•ˆí•œ ë¶„ìœ„ê¸°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                desc_p2: "ê°ì‹¤ë§ˆë‹¤ ë‹¤ë¥¸ ê°ì„±ì˜ ê³µê°„ ì—°ì¶œë¡œ <br>ê³ ìš”í•œ ë°¤ì˜ ë¶„ìœ„ê¸°ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ëŠë‚„ ìˆ˜ ìˆë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.",
                desc_p3: "íˆ¬ìˆ™ê°ì—ê²ŒëŠ” í¸ì•ˆí•œ íœ´ì‹ì´ ë  ìˆ˜ ìˆë„ë¡ ëª¨ë“  ê°ì‹¤ì— Free wi-fi, í¸ë¦¬í•œ ì£¼ì°¨ ë“±ì´ ì œê³µë©ë‹ˆë‹¤.",
                room_title: "ë””ëŸ­ìŠ¤",
                checkin_label: "ì²´í¬ì¸", checkout_label: "ì²´í¬ì•„ì›ƒ",
                msg_select_date: "ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”",
                label_nights: "ë°•", label_total: "ì´ í•©ê³„", label_won: "ì›",
                opt_header: "ì¡°ì‹Â·ë£¸ì„œë¹„ìŠ¤", opt_sub: "ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ì²´í¬í•´ì£¼ì„¸ìš”",
                btn_reserve: "ì˜ˆì•½í•˜ê¸°",
                companyName: "(ì£¼)í˜¸í…”ì¸ìŠ¤íƒ€", ceoName: "ëŒ€í‘œì : ì´ì˜í™˜", bizNumber: "í†µì‹ íŒë§¤ì—… ì‹ ê³ ë²ˆí˜¸: 2023-ìˆ˜ì›ì˜í†µ-1696í˜¸", address: "ìˆ˜ì›ì‹œ ì˜í†µêµ¬ ì˜í†µë¡œ 94-6",
                terms: "ì´ìš©ì•½ê´€", privacy: "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨", inquiryBtn: "ë¬¸ì˜",
                menu_A1: "[A1] í–„ì¹˜ì¦ˆ í¬ë¼ìƒ ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Ham & Cheese Croissant Sandwich</span>",
                menu_B2: "[B2] ë¸Œë¼ìš´ í–„ì—ê·¸ ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Brown Ham & Egg Sandwich</span>",
                menu_C3: "[C3] í–„&ì¹˜ì¦ˆ ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Ham & Cheese Sandwich</span>",
                menu_D4: "[D4] ëŸ°ì¹˜ ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Lunch Sandwich</span>",
                menu_E5: "[E5] ì¹ ë¦¬í¬ë© ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Chili Crab Sandwich</span>",
                menu_F6: "[F6] Fresh í•œì…ì™ ë¯¸ë‹ˆë²„ê±°<br><span style='font-size:11px; color:#888;'>Fresh Mini Burger</span>",
                menu_J10: "[J10] ì—ê·¸ ìƒëŸ¬ë“œ ìƒŒë“œìœ„ì¹˜<br><span style='font-size:11px; color:#888;'>Egg Salad Sandwich</span>",
                menu_G7: "[G7] ë‹¨ë°±ì§ˆ ë“¬ë¿ ì¹˜í‚¨ ì—ê·¸ ìƒëŸ¬ë“œ<br><span style='font-size:11px; color:#888;'>Protein-packed Chicken Egg Salad</span>",
                menu_H8: "[H8] í¬ë¦¬ìŠ¤í”¼ ì¹˜í‚¨ ìƒëŸ¬ë“œ<br><span style='font-size:11px; color:#888;'>Crispy Chicken Salad</span>",
                menu_I9: "[I9] í¬ëœë² ë¦¬ ì¹˜í‚¨ ë¦¬ì½”íƒ€ ìƒëŸ¬ë“œ<br><span style='font-size:11px; color:#888;'>Cranberry Chicken Ricotta Salad</span>",
                menu_K11: "[K11] ìš°ìœ  (300ml)<br><span style='font-size:11px; color:#888;'>Milk</span>",
                menu_L12: "[L12] ë°”ë‚˜ë‚˜ ìš°ìœ  (240ml)<br><span style='font-size:11px; color:#888;'>Banana Milk</span>",
                menu_M13: "[M13] ì˜¤ë Œì§€ ì£¼ìŠ¤ (350ml)<br><span style='font-size:11px; color:#888;'>Orange Juice</span>",
                menu_N14: "[N14] ì»¤í”¼ - ì•„ë©”ë¦¬ì¹´ë…¸<br><span style='font-size:11px; color:#888;'>Coffee - Americano</span>",
            },
            en: {
                flag: "usa.png",
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                scroll_hint: "â† Swipe to see more",
                desc_header: "Details",
                desc_p1: "[Deluxe]<br>Insta Hotel is a space where you can capture comfort and sensibility at a glance.<br>The softly lit rooms with warm wood tones provide a comfortable atmosphere for a break during your trip.",
                desc_p2: "Each room is designed with a different emotional vibe,<br>allowing you to naturally feel the atmosphere of a quiet night.",
                desc_p3: "For a comfortable rest, all rooms are provided with Free Wi-Fi, convenient parking, etc.",
                room_title: "Deluxe",
                checkin_label: "Check-in", checkout_label: "Check-out",
                msg_select_date: "Please select dates",
                label_nights: "nights", label_total: "Total", label_won: "",
                opt_header: "Breakfast/Room Service", opt_sub: "Please check desired menu",
                btn_reserve: "Book Now",
                companyName: "Insta Hotel Co., Ltd.", ceoName: "CEO: Lee Young Hwan", bizNumber: "Registration: 2023-Suwon Yeongtong-1696", address: "94-6, Yeongtong-ro, Yeongtong-gu, Suwon-si",
                terms: "Terms of Use", privacy: "Privacy Policy", inquiryBtn: "Contact",
                menu_A1: "[A1] Ham & Cheese Croissant Sandwich",
                menu_B2: "[B2] Brown Ham & Egg Sandwich",
                menu_C3: "[C3] Ham & Cheese Sandwich",
                menu_D4: "[D4] Lunch Sandwich",
                menu_E5: "[E5] Chili Crab Sandwich",
                menu_F6: "[F6] Fresh Mini Burger",
                menu_J10: "[J10] Egg Salad Sandwich",
                menu_G7: "[G7] Protein-packed Chicken Egg Salad",
                menu_H8: "[H8] Crispy Chicken Salad",
                menu_I9: "[I9] Cranberry Chicken Ricotta Salad",
                menu_K11: "[K11] Milk (300ml)",
                menu_L12: "[L12] Banana Milk (240ml)",
                menu_M13: "[M13] Orange Juice (350ml)",
                menu_N14: "[N14] Coffee - Americano",
            },
            ja: {
                flag: "jp.png",
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "bluerain lounge", nav_contact: "contact",
                scroll_hint: "â† ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ã‚‚ã£ã¨è¦‹ã‚‹",
                desc_header: "è©³ç´°æƒ…å ±",
                desc_p1: "[ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹]<br>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ›ãƒ†ãƒ«ã¯ã€å¿«é©ã•ã¨æ„Ÿæ€§ã‚’ä¸€ç›®ã§æ„Ÿã˜ã‚‰ã‚Œã‚‹ç©ºé–“ã§ã™ã€‚<br>ã»ã®ã‹ãªç…§æ˜ã¨æ¸©ã‹ã¿ã®ã‚ã‚‹ã‚¦ãƒƒãƒ‰ãƒˆãƒ¼ãƒ³ã®å®¢å®¤ã¯ã€æ—…ã‚„æ—¥å¸¸ã®ä¸­ã§ä¸€ä¼‘ã¿ã§ãã‚‹å¿«é©ãªé›°å›²æ°—ã‚’æä¾›ã—ã¾ã™ã€‚",
                desc_p2: "å®¢å®¤ã”ã¨ã«ç•°ãªã‚‹æ„Ÿæ€§ã®ç©ºé–“æ¼”å‡ºã«ã‚ˆã‚Šã€<br>é™ã‹ãªå¤œã®é›°å›²æ°—ã‚’è‡ªç„¶ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã‚ˆã†ã«æ§‹æˆã—ã¾ã—ãŸã€‚",
                desc_p3: "ãŠå®¢æ§˜ã®å¿«é©ãªä¼‘æ¯ã®ãŸã‚ã«ã€å…¨å®¢å®¤ã«ç„¡æ–™Wi-Fiã€ä¾¿åˆ©ãªé§è»Šå ´ãªã©ãŒæä¾›ã•ã‚Œã¾ã™ã€‚",
                room_title: "ãƒ‡ãƒ©ãƒƒã‚¯ã‚¹",
                checkin_label: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³", checkout_label: "ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ",
                msg_select_date: "æ—¥ä»˜ã‚’é¸æŠã—ã¦ãã ã•ã„",
                label_nights: "æ³Š", label_total: "åˆè¨ˆ", label_won: "å††",
                opt_header: "æœé£Ÿãƒ»ãƒ«ãƒ¼ãƒ ã‚µãƒ¼ãƒ“ã‚¹", opt_sub: "ã”å¸Œæœ›ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„",
                btn_reserve: "äºˆç´„ã™ã‚‹",
                companyName: "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ›ãƒ†ãƒ«æ ªå¼ä¼šç¤¾", ceoName: "ä»£è¡¨è€… : ã‚¤ãƒ»ãƒ¨ãƒ³ãƒ•ã‚¡ãƒ³", bizNumber: "ç™»éŒ²ç•ªå·: 2023-æ°´åŸéœŠé€š-1696", address: "æ°´åŸå¸‚éœŠé€šåŒºéœŠé€šè·¯94-6",
                terms: "åˆ©ç”¨è¦ç´„", privacy: "å€‹äººæƒ…å ±å‡¦ç†æ–¹é‡", inquiryBtn: "ãŠå•ã„åˆã‚ã›",
                menu_A1: "[A1] ãƒãƒ ãƒãƒ¼ã‚ºã‚¯ãƒ­ãƒ¯ãƒƒã‚µãƒ³ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Ham & Cheese Croissant Sandwich</span>",
                menu_B2: "[B2] ãƒ–ãƒ©ã‚¦ãƒ³ãƒãƒ ã‚¨ãƒƒã‚°ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Brown Ham & Egg Sandwich</span>",
                menu_C3: "[C3] ãƒãƒ ï¼†ãƒãƒ¼ã‚ºã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Ham & Cheese Sandwich</span>",
                menu_D4: "[D4] ãƒ©ãƒ³ãƒã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Lunch Sandwich</span>",
                menu_E5: "[E5] ãƒãƒªã‚¯ãƒ©ãƒ–ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Chili Crab Sandwich</span>",
                menu_F6: "[F6] ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒŸãƒ‹ãƒãƒ¼ã‚¬ãƒ¼<br><span style='font-size:11px; color:#888;'>Fresh Mini Burger</span>",
                menu_J10: "[J10] ã‚¨ãƒƒã‚°ã‚µãƒ©ãƒ€ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ<br><span style='font-size:11px; color:#888;'>Egg Salad Sandwich</span>",
                menu_G7: "[G7] ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãŸã£ã·ã‚Šãƒã‚­ãƒ³ã‚¨ãƒƒã‚°ã‚µãƒ©ãƒ€<br><span style='font-size:11px; color:#888;'>Protein-packed Chicken Egg Salad</span>",
                menu_H8: "[H8] ã‚¯ãƒªã‚¹ãƒ”ãƒ¼ãƒã‚­ãƒ³ã‚µãƒ©ãƒ€<br><span style='font-size:11px; color:#888;'>Crispy Chicken Salad</span>",
                menu_I9: "[I9] ã‚¯ãƒ©ãƒ³ãƒ™ãƒªãƒ¼ãƒã‚­ãƒ³ãƒªã‚³ãƒƒã‚¿ã‚µãƒ©ãƒ€<br><span style='font-size:11px; color:#888;'>Cranberry Chicken Ricotta Salad</span>",
                menu_K11: "[K11] ç‰›ä¹³ (300ml)<br><span style='font-size:11px; color:#888;'>Milk</span>",
                menu_L12: "[L12] ãƒãƒŠãƒŠç‰›ä¹³ (240ml)<br><span style='font-size:11px; color:#888;'>Banana Milk</span>",
                menu_M13: "[M13] ã‚ªãƒ¬ãƒ³ã‚¸ã‚¸ãƒ¥ãƒ¼ã‚¹ (350ml)<br><span style='font-size:11px; color:#888;'>Orange Juice</span>",
                menu_N14: "[N14] ã‚³ãƒ¼ãƒ’ãƒ¼ - ã‚¢ãƒ¡ãƒªã‚«ãƒ¼ãƒ<br><span style='font-size:11px; color:#888;'>Coffee - Americano</span>",
            },
            zh: {
                flag: "cn.png",
                nav_about: "about", nav_rooms: "rooms", nav_reservation: "reservation", nav_lounge: "è“é›¨ä¼‘æ¯å®¤", nav_contact: "contact",
                scroll_hint: "â† æ»‘åŠ¨æŸ¥çœ‹æ›´å¤š",
                desc_header: "è¯¦ç»†ä¿¡æ¯",
                desc_p1: "[è±ªåæˆ¿]<br>Insta Hotel æ˜¯ä¸€ä¸ªå¯ä»¥ä¸€çœ¼å®¹çº³èˆ’é€‚å’Œæ„Ÿæ€§çš„ç©ºé—´ã€‚<br>éšéšçš„ç¯å…‰å’Œæ¸©æš–çš„æœ¨è‰²è°ƒå®¢æˆ¿ï¼Œä¸ºæ‚¨æä¾›æ—…è¡Œå’Œæ—¥å¸¸ç”Ÿæ´»ä¸­å¯ä»¥æš‚æ—¶ä¼‘æ¯çš„èˆ’é€‚æ°›å›´ã€‚",
                desc_p2: "æ¯ä¸ªå®¢æˆ¿éƒ½æœ‰ä¸åŒçš„æ„Ÿæ€§ç©ºé—´è®¾è®¡ï¼Œ<br>è®©æ‚¨è‡ªç„¶åœ°æ„Ÿå—åˆ°å®é™å¤œæ™šçš„æ°›å›´ã€‚",
                desc_p3: "ä¸ºäº†ç»™ä½å®¢æä¾›èˆ’é€‚çš„ä¼‘æ¯ï¼Œæ‰€æœ‰å®¢æˆ¿å‡æä¾›å…è´¹Wi-Fiã€ä¾¿æ·çš„åœè½¦æœåŠ¡ç­‰ã€‚",
                room_title: "è±ªåæˆ¿",
                checkin_label: "å…¥ä½", checkout_label: "é€€æˆ¿",
                msg_select_date: "è¯·é€‰æ‹©æ—¥æœŸ",
                label_nights: "æ™š", label_total: "æ€»è®¡", label_won: "", // ì¤‘êµ­ì–´ëŠ” ë‹¨ìœ„(å…ƒ) ìƒëµ, Â¥ ê¸°í˜¸ë§Œ ì‚¬ìš©
                opt_header: "æ—©é¤Â·å®¢æˆ¿æœåŠ¡", opt_sub: "è¯·å‹¾é€‰æ‚¨æƒ³è¦çš„èœå•",
                btn_reserve: "ç«‹å³é¢„è®¢",
                companyName: "Insta Hotelæœ‰é™å…¬å¸", ceoName: "ä»£è¡¨ï¼šææ°¸ç„•", bizNumber: "æ³¨å†Œå·ï¼š2023-æ°´åŸçµé€š-1696", address: "æ°´åŸå¸‚çµé€šåŒºçµé€šè·¯94-6",
                terms: "ä½¿ç”¨æ¡æ¬¾", privacy: "éšç§æ”¿ç­–", inquiryBtn: "å’¨è¯¢",
                menu_A1: "[A1] ç«è…¿èŠå£«ç‰›è§’åŒ…ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Ham & Cheese Croissant Sandwich</span>",
                menu_B2: "[B2] æ£•è‰²ç«è…¿è›‹ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Brown Ham & Egg Sandwich</span>",
                menu_C3: "[C3] ç«è…¿èŠå£«ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Ham & Cheese Sandwich</span>",
                menu_D4: "[D4] åˆé¤ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Lunch Sandwich</span>",
                menu_E5: "[E5] è¾£æ¤’èŸ¹ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Chili Crab Sandwich</span>",
                menu_F6: "[F6] æ–°é²œä¸€å£è¿·ä½ æ±‰å ¡<br><span style='font-size:11px; color:#888;'>Fresh Mini Burger</span>",
                menu_J10: "[J10] é¸¡è›‹æ²™æ‹‰ä¸‰æ˜æ²»<br><span style='font-size:11px; color:#888;'>Egg Salad Sandwich</span>",
                menu_G7: "[G7] é«˜è›‹ç™½é¸¡è‚‰é¸¡è›‹æ²™æ‹‰<br><span style='font-size:11px; color:#888;'>Protein-packed Chicken Egg Salad</span>",
                menu_H8: "[H8] è„†çš®é¸¡è‚‰æ²™æ‹‰<br><span style='font-size:11px; color:#888;'>Crispy Chicken Salad</span>",
                menu_I9: "[I9] è”“è¶Šè“é¸¡è‚‰ç‘å¯å¡”æ²™æ‹‰<br><span style='font-size:11px; color:#888;'>Cranberry Chicken Ricotta Salad</span>",
                menu_K11: "[K11] ç‰›å¥¶ (300ml)<br><span style='font-size:11px; color:#888;'>Milk</span>",
                menu_L12: "[L12] é¦™è•‰ç‰›å¥¶ (240ml)<br><span style='font-size:11px; color:#888;'>Banana Milk</span>",
                menu_M13: "[M13] æ©™æ± (350ml)<br><span style='font-size:11px; color:#888;'>Orange Juice</span>",
                menu_N14: "[N14] å’–å•¡ - ç¾å¼å’–å•¡<br><span style='font-size:11px; color:#888;'>Coffee - Americano</span>",
            }
        };
        
        let currentLang = 'ko';
        let currentRoomData = null; // Supabaseì—ì„œ ê°€ì ¸ì˜¨ ë°© ë°ì´í„° ì €ì¥

        const headerSelect = document.getElementById("header-lang-select");
        const drawerSelect = document.getElementById("drawer-lang-select");
        const currentFlagIcon = document.getElementById("current-flag-icon");

        // [DB] ë°© ì •ë³´ ê°€ì ¸ì˜¤ê¸° 
        // â˜… ë””ëŸ­ìŠ¤(Deluxe) ë£¸ ID = 2ë²ˆìœ¼ë¡œ ì„¤ì • (ì˜ˆì‹œ)
        async function fetchRoomData() {
            const { data, error } = await window.supabaseClient
                .from('rooms')
                .select('*')
                .eq('id', 2) // â˜… ë””ëŸ­ìŠ¤ ë£¸ ID 2ë²ˆ
                .single();

            if (error) {
                console.error("ë£¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.", error);
                return;
            }
            currentRoomData = data;
            console.log("DB ë°ì´í„° ë¡œë“œ ì™„ë£Œ (ë””ëŸ­ìŠ¤, ID: 2):", currentRoomData);
            calculateTotalWrapper(); // ë°ì´í„° ë¡œë“œ í›„ ê³„ì‚° ê°±ì‹ 
        }

        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang] || translations.ko;
            
            // 1. í”Œë˜ê·¸ & í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            if(currentFlagIcon && t.flag) currentFlagIcon.src = t.flag;

            const textIds = ["companyName", "ceoName", "bizNumber", "address", "terms", "privacy", "inquiryBtn"];
            textIds.forEach(id => {
                const el = document.getElementById(id);
                if(el && t[id]) el.innerText = t[id];
            });

            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) el.innerHTML = t[key];
            });

            // 2. í™”í ë‹¨ìœ„ ë° ì‹¬ë³¼ ì—…ë°ì´íŠ¸
            updateCurrencyDisplay();

            // 3. ìº˜ë¦°ë” ë‹¤ì‹œ ê·¸ë¦¬ê¸° (ìš”ì¼ ì–¸ì–´)
            renderCalendar(currentYear, currentMonth);

            // 4. ê°€ê²© ì¬ê³„ì‚°
            calculateTotalWrapper();
        }

        // í™”í ê¸°í˜¸ ë° ë‹¨ìœ„ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateCurrencyDisplay() {
            const t = translations[currentLang] || translations.ko;
            
            // "ì›", "å††" ë“± ë’¤ì— ë¶™ëŠ” ë‹¨ìœ„
            document.querySelectorAll('.currency-unit').forEach(el => {
                el.innerText = t.label_won;
            });

            // "$", "Â¥" ë“± ì•ì— ë¶™ëŠ” ì‹¬ë³¼
            let symbol = "";
            if (currentLang === 'en') symbol = "$";
            else if (currentLang === 'zh') symbol = "Â¥";
            
            document.querySelectorAll('.currency-symbol').forEach(el => {
                el.innerText = symbol;
            });
        }

        if(headerSelect) {
            headerSelect.addEventListener("change", (e) => {
                const lang = e.target.value;
                if(drawerSelect) drawerSelect.value = lang; 
                updateLanguage(lang);
            });
        }
        if(drawerSelect) {
            drawerSelect.addEventListener("change", (e) => {
                const lang = e.target.value;
                if(headerSelect) headerSelect.value = lang; 
                updateLanguage(lang);
            });
        }

        function changeMainImage(url) {
            const mainPhoto = document.getElementById('main-photo');
            mainPhoto.style.backgroundImage = `url('${url}')`;
        }

        // --- ë‹¬ë ¥ ë¡œì§ ---
        let currentYear = new Date().getFullYear();
        let currentMonth = new Date().getMonth(); 
        let selectedStartDate = null;
        let selectedEndDate = null;
        const today = new Date();
        today.setHours(0, 0, 0, 0);

       function renderCalendar(year, month) {
            const calendarBody = document.getElementById('calendar-body');
            const monthTitle = document.getElementById('current-month');
            
            // [ìˆ˜ì • 1] ì˜¤ëŠ˜ ë‚ ì§œì™€ 2ê°œì›” ë’¤ ë‚ ì§œ ê³„ì‚°
            const today = new Date();
            today.setHours(0, 0, 0, 0); // ì‹œê°„ ì´ˆê¸°í™”

            const maxDate = new Date();
            maxDate.setHours(0, 0, 0, 0);
            maxDate.setMonth(today.getMonth() + 2); // 2ê°œì›” ë’¤ ì„¤ì •
            // ------------------------------------

            if (currentLang === 'en') {
                const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                monthTitle.innerText = `${monthNames[month]} ${year}`;
            } else {
                monthTitle.innerText = `${year}ë…„ ${month + 1}ì›”`;
            }
            
            calendarBody.innerHTML = "";

            let weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            if (currentLang === 'en') weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            if (currentLang === 'ja') weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            if (currentLang === 'zh') weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];

            weekdays.forEach(day => {
                const div = document.createElement('div');
                div.className = 'weekday';
                div.innerText = day;
                calendarBody.appendChild(div);
            });

            const firstDay = new Date(year, month, 1).getDay();
            const lastDate = new Date(year, month + 1, 0).getDate();

            for (let i = 0; i < firstDay; i++) {
                const div = document.createElement('div');
                calendarBody.appendChild(div);
            }

            for (let i = 1; i <= lastDate; i++) {
                const dateDiv = document.createElement('div');
                dateDiv.className = 'day';
                dateDiv.innerText = i;
                
                const thisDate = new Date(year, month, i);
                thisDate.setHours(0, 0, 0, 0); // ë‚ ì§œ ë¹„êµë¥¼ ìœ„í•´ ì‹œê°„ ì´ˆê¸°í™”

                // [ìˆ˜ì • 2] ê³¼ê±° ë‚ ì§œ OR 6ê°œì›” ë’¤ ë‚ ì§œëŠ” 'disabled' ì²˜ë¦¬
                if (thisDate < today || thisDate > maxDate) {
                    dateDiv.classList.add('disabled'); // í´ë¦­ ë¶ˆê°€ ìŠ¤íƒ€ì¼ ì ìš©
                } else {
                    dateDiv.onclick = () => selectDate(thisDate);
                }
                // -----------------------------------------------------

                if (selectedStartDate && thisDate.getTime() === selectedStartDate.getTime()) {
                    dateDiv.classList.add('selected');
                }
                if (selectedEndDate && thisDate.getTime() === selectedEndDate.getTime()) {
                    dateDiv.classList.add('selected');
                }
                if (selectedStartDate && selectedEndDate && thisDate > selectedStartDate && thisDate < selectedEndDate) {
                    dateDiv.classList.add('in-range');
                }

                calendarBody.appendChild(dateDiv);
            }
        }
        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar(currentYear, currentMonth);
        }

        function selectDate(date) {
            if (!selectedStartDate || (selectedStartDate && selectedEndDate)) {
                selectedStartDate = date;
                selectedEndDate = null;
            } else if (selectedStartDate && !selectedEndDate) {
                if (date < selectedStartDate) {
                    selectedStartDate = date;
                } else if (date.getTime() === selectedStartDate.getTime()) {
                } else {
                    selectedEndDate = date;
                }
            }
            renderCalendar(currentYear, currentMonth);
            updateInputValues();
        }

        function updateInputValues() {
            const checkinInput = document.getElementById('checkin');
            const checkoutInput = document.getElementById('checkout');
            const displayCheckin = document.getElementById('display-checkin');
            const displayCheckout = document.getElementById('display-checkout');

            if (selectedStartDate) {
                checkinInput.value = toDateString(selectedStartDate);
                displayCheckin.innerText = toDateString(selectedStartDate);
            } else {
                checkinInput.value = "";
                displayCheckin.innerText = "-";
            }

            if (selectedEndDate) {
                checkoutInput.value = toDateString(selectedEndDate);
                displayCheckout.innerText = toDateString(selectedEndDate);
                calculateTotalWrapper();
            } else {
                checkoutInput.value = "";
                displayCheckout.innerText = "-";
                document.getElementById('nights').innerText = "0";
                document.getElementById('total').innerText = "0";
                document.getElementById('grand-total').innerText = "0";
                
                const t = translations[currentLang] || translations.ko;
                document.getElementById('date-range-text').innerText = t.msg_select_date;
            }
        }

        function toDateString(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        renderCalendar(currentYear, currentMonth);

        // --- ê°€ê²© ê³„ì‚° ë¡œì§ (DB ì—°ë™ + í™˜ìœ¨ ì ìš©) ---
        
        // ì˜µì…˜(ìƒŒë“œìœ„ì¹˜ ë“±)ì€ DBì— ì—†ìœ¼ë¯€ë¡œ, ëŒ€ëµì ì¸ í™˜ìœ¨ì„ ì ìš©í•´ ê³„ì‚°í•©ë‹ˆë‹¤.
        function getOptionExchangeRate(lang) {
             // ê¸°ì¤€: 1000ì› ë‹¹ ì–¼ë§ˆì¸ì§€ (ë‹¨ìˆœ ì˜ˆì‹œ)
             if (lang === 'en') return 0.00075; // 1000ì› -> 0.75ë‹¬ëŸ¬
             if (lang === 'ja') return 0.11;    // 1000ì› -> 110ì—”
             if (lang === 'zh') return 0.0053;  // 1000ì› -> 5.3ìœ„ì•ˆ
             return 1; // í•œêµ­ì–´
        }

        // [ìˆ˜ì • 1] ë‚ ì§œì™€ ìš”ì¼ì— ë”°ë¥¸ ìˆ™ë°•ë¹„ ê³„ì‚° í•¨ìˆ˜ (íŠ¹ì‹¤/ê¸ˆìš”ì¼ ìš”ê¸ˆ ì ìš©)
        function calculateTotal() {
            if (!currentRoomData) return 0; // DB ë°ì´í„° ì—†ìœ¼ë©´ 0

            const checkinInput = document.getElementById('checkin').value;
            const checkoutInput = document.getElementById('checkout').value;
            
            if (!checkinInput || !checkoutInput) return 0;

            const startDate = new Date(checkinInput);
            const endDate = new Date(checkoutInput);

            let totalPrice = 0;
            let currentDate = new Date(startDate);

            // ì–¸ì–´ë³„ ì»¬ëŸ¼ ì´ë¦„ ì„¤ì •
            let colWeekday = "default_price";
            let colFriday = "friday_price";    // ê¸ˆìš”ì¼
            let colWeekend = "weekend_price";

            if (currentLang === 'en') {
                colWeekday = "default_price_usd";
                colFriday = "friday_price_usd";
                colWeekend = "weekend_price_usd";
            } else if (currentLang === 'ja') {
                colWeekday = "default_price_jpy";
                colFriday = "friday_price_jpy";
                colWeekend = "weekend_price_jpy";
            } else if (currentLang === 'zh') {
                colWeekday = "default_price_cny";
                colFriday = "friday_price_cny";
                colWeekend = "weekend_price_cny";
            }

            // ë‚ ì§œ ë°˜ë³µí•˜ë©° ê¸ˆì•¡ ë”í•˜ê¸°
            while (currentDate < endDate) {
                const dayOfWeek = currentDate.getDay(); // 0(ì¼) ~ 6(í† )
                let dailyPrice = 0;

                if (dayOfWeek === 6) { 
                    // í† ìš”ì¼
                    dailyPrice = currentRoomData[colWeekend] || 0;
                } else if (dayOfWeek === 5) { 
                    // â˜… ê¸ˆìš”ì¼ (íŠ¹ì‹¤ ê¸ˆìš”ì¼ ê°€ê²© ì ìš©)
                    dailyPrice = currentRoomData[colFriday] || 0;
                } else {
                    // í‰ì¼ (ì¼~ëª©)
                    dailyPrice = currentRoomData[colWeekday] || 0;
                }
                
                totalPrice += dailyPrice;
                currentDate.setDate(currentDate.getDate() + 1);
            }

            return totalPrice;
        }

        // [ìˆ˜ì • 2] í™”ë©´ í‘œì‹œ ë° ìµœì¢… í•©ê³„ ê³„ì‚° í•¨ìˆ˜ (ë°•ìˆ˜ì™€ ë°© ê°€ê²© í‘œì‹œ ë¡œì§ ì¶”ê°€ë¨)
        function calculateTotalWrapper() {
            // 1. ë°© ê°€ê²© ê°€ì ¸ì˜¤ê¸° (calculateTotal í•¨ìˆ˜ì—ì„œ ê³„ì‚°ëœ ê°’)
            let roomPrice = calculateTotal();
            
            // 2. ëª‡ ë°•(Nights)ì¸ì§€ ê³„ì‚°í•˜ê¸°
            const checkinVal = document.getElementById('checkin').value;
            const checkoutVal = document.getElementById('checkout').value;
            let nightCount = 0;
            
            if(checkinVal && checkoutVal) {
                const s = new Date(checkinVal);
                const e = new Date(checkoutVal);
                const diffTime = Math.abs(e - s);
                // ë°€ë¦¬ì´ˆë¥¼ ì¼(Day) ë‹¨ìœ„ë¡œ ë³€í™˜ í›„ ì˜¬ë¦¼ ì²˜ë¦¬
                nightCount = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            }

            // 3. ì˜µì…˜(ì¡°ì‹ ë“±) ê°€ê²© ê³„ì‚°
            let optionTotalKRW = 0;
            const checkboxes = document.querySelectorAll('.option-checkbox:checked');
            checkboxes.forEach((box) => {
                optionTotalKRW += parseInt(box.value);
            });

            // ì˜µì…˜ í™˜ìœ¨ ì ìš©
            const rate = getOptionExchangeRate(currentLang);
            let optionPrice = (currentLang === 'ko') ? optionTotalKRW : (optionTotalKRW * rate);

            // ì†Œìˆ˜ì  ì²˜ë¦¬ (ì˜ì–´ ì™¸ì—ëŠ” ë°˜ì˜¬ë¦¼)
            if(currentLang !== 'en') {
                roomPrice = Math.round(roomPrice);
                optionPrice = Math.round(optionPrice);
            }

            let grandTotal = roomPrice + optionPrice;

            // ============================================================
            // â˜… í™”ë©´ ì—…ë°ì´íŠ¸ (ì—¬ê¸°ê°€ ì¶”ê°€ëœ í•µì‹¬ ë¶€ë¶„ì…ë‹ˆë‹¤!) â˜…
            // ============================================================
            
            // (1) "0ë°•" -> ì‹¤ì œ ë°•ìˆ˜ í‘œì‹œ
            document.getElementById('nights').innerText = nightCount;
            
            // (2) ë‚ ì§œ ë²”ìœ„ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (ì˜ˆ: 2025-12-25 ~ 2025-12-27)
            if(checkinVal && checkoutVal) {
                document.getElementById('date-range-text').innerText = `${checkinVal} ~ ${checkoutVal}`;
            }

            // (3) ë‹¬ë ¥ ë°‘ "ë°© ê°€ê²©" í‘œì‹œ (ì˜µì…˜ ì œì™¸ ê¸ˆì•¡)
            if(currentLang === 'en') {
                document.getElementById('total').innerText = roomPrice.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            } else {
                document.getElementById('total').innerText = roomPrice.toLocaleString();
            }

            // (4) ì˜µì…˜ ê°€ê²© UI ì—…ë°ì´íŠ¸ (+7,300ì› ë“±)
            updateOptionPricesUI(rate);

            // (5) ë§¨ ì•„ë˜ "ì´ í•©ê³„" í‘œì‹œ (ë°© ê°€ê²© + ì˜µì…˜ ê°€ê²©)
            if(currentLang === 'en') {
                document.getElementById('grand-total').innerText = grandTotal.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            } else {
                document.getElementById('grand-total').innerText = grandTotal.toLocaleString();
            }
        }

        // ì˜µì…˜ ëª©ë¡ì˜ ê°€ê²© í‘œì‹œ í…ìŠ¤íŠ¸(ì˜ˆ: +7300ì›)ë¥¼ í˜„ì¬ í™˜ìœ¨ë¡œ ë°”ê¿”ì„œ ë³´ì—¬ì¤Œ
        function updateOptionPricesUI(rate) {
            const t = translations[currentLang] || translations.ko;
            const optionItems = document.querySelectorAll('.option-item');
            
            optionItems.forEach(item => {
                const checkbox = item.querySelector('.option-checkbox');
                const priceTextEl = item.querySelector('.option-price-text');
                const krwValue = parseInt(checkbox.value);
                
                let displayPrice = 0;
                let symbol = "";
                let unit = t.label_won;

                if(currentLang === 'ko') {
                    displayPrice = krwValue.toLocaleString();
                } else {
                    let converted = krwValue * rate;
                    if(currentLang === 'en') {
                        displayPrice = converted.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                        symbol = "+$";
                        unit = "";
                    } else if(currentLang === 'zh') {
                        displayPrice = Math.round(converted).toLocaleString();
                        symbol = "+Â¥";
                        unit = ""; // ì¤‘êµ­ì–´ë„ ë‹¨ìœ„(å…ƒ) ìƒëµ
                    } else if(currentLang === 'ja') {
                        displayPrice = Math.round(converted).toLocaleString();
                        symbol = "+";
                        unit = "å††";
                    }
                }
                
                priceTextEl.innerHTML = `${symbol}${displayPrice}<span class="currency-unit">${unit}</span>`;
            });
        }

        function goToPayment() {
            const checkin = document.getElementById('checkin').value;
            const checkout = document.getElementById('checkout').value;
            const nights = document.getElementById('nights').innerText;

            if (!checkin || !checkout) {
                const t = translations[currentLang] || translations.ko;
                alert(t.msg_select_date);
                return;
            }

            // ê³„ì‚°ëœ ìµœì¢… ê°’ë“¤
            let roomPrice = calculateTotal(); // í˜„ì¬ í†µí™” ê¸°ì¤€
            let optionTotalKRW = 0;
            const checkedBoxes = document.querySelectorAll('.option-checkbox:checked');
            let selectedOptionNames = [];

            checkedBoxes.forEach(box => {
                optionTotalKRW += parseInt(box.value);
                const labelSpan = box.nextElementSibling;
                if (labelSpan) {
                    // ì¤„ë°”ê¿ˆ ë¬¸ì ë“±ì„ ê³µë°±ìœ¼ë¡œ ì¹˜í™˜
                    let menuName = labelSpan.innerText.replace(/\n/g, ' ');
                    selectedOptionNames.push(menuName);
                }
            });

            const rate = getOptionExchangeRate(currentLang);
            let optionPrice = (currentLang === 'ko') ? optionTotalKRW : (optionTotalKRW * rate);
            
            // ì†Œìˆ˜ì  ì •ë¦¬
            if(currentLang !== 'en') {
                roomPrice = Math.round(roomPrice);
                optionPrice = Math.round(optionPrice);
            }

            const total = roomPrice + optionPrice;
            const optionDetailsEncoded = encodeURIComponent(JSON.stringify(selectedOptionNames));

            // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™ (currency ì •ë³´ë„ í•¨ê»˜ ë„˜ê¹€)
            // ë””ëŸ­ìŠ¤ í˜ì´ì§€ì´ë¯€ë¡œ paydeluxe.htmlë¡œ ì´ë™
            const url = `paydeluxe.html?checkin=${checkin}&checkout=${checkout}&nights=${nights}&roomPrice=${roomPrice}&optionPrice=${optionPrice}&total=${total}&optionDetails=${optionDetailsEncoded}&currency=${currentLang}`;

            window.location.href = url;
        }

        // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
        fetchRoomData();
    </script>
</body>
</html>
